(function(e){function t(t){for(var r,o,c=t[0],l=t[1],s=t[2],u=0,v=[];u<c.length;u++)o=c[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&v.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(v.length)v.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var l=n[o];0!==a[l]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},i=[];function o(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-2d216214":"49bf1fba","chunk-6303dde1":"83918429"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(e);var s=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(u);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",s.name="ChunkLoadError",s.type=r,s.request=i,n[1](s)}a[e]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},28772:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t),n.d(t,"db",(function(){return mn}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"myApp"}},[n("v-app-bar",{attrs:{color:"primary",app:"",flat:"",dark:""}},[n("div",{staticClass:"d-flex align-left clickable-area",on:{click:e.navigateHome}},[n("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Vuetify Logo",contain:"",src:"https://i.ibb.co/ynd8rhz/hstl.png",transition:"scale-transition",width:"40"}}),n("span",{staticClass:"font-weight-bold logo"},[e._v("Volunteer Calendar")])],1),n("v-spacer"),e.isLoggedIn?n("v-btn",{staticClass:"ma-2 white--text",attrs:{color:"red"},on:{click:e.handleSignOut}},[n("v-icon",{attrs:{left:"",dark:""}},[e._v("mdi-logout")]),e._v(" Sign Out ")],1):n("v-btn",{staticClass:"ma-2 white--text",attrs:{color:"success"},on:{click:function(t){return e.$router.push("/login")}}},[n("v-icon",{attrs:{left:"",dark:""}},[e._v("mdi-login")]),e._v(" Login ")],1)],1),n("v-main",[n("v-container",{attrs:{id:"main-container",fluid:""}},[n("router-view")],1)],1)],1)},i=[],o=(n("99af"),n("b0c0"),n("5530")),c=n("2f62"),l=n("be8c"),s={name:"App",data:function(){return{isLoggedIn:!1}},mounted:function(){var e=this,t=Object(l["b"])();Object(l["c"])(t,(function(t){e.isLoggedIn=!!t,t?console.log("User is signed in with UID: ".concat(t.uid," and Email: ").concat(t.email)):console.log("User is signed out")}))},methods:Object(o["a"])(Object(o["a"])({},Object(c["d"])(["drawerChange"])),{},{changeDrawer:function(){this.drawerChange()},handleSignOut:function(){var e=this,t=Object(l["b"])();Object(l["e"])(t).then((function(){console.log("Sign-out successful."),e.isLoggedIn=!1,"/"!==e.$router.currentRoute.path&&e.$router.push("/")})).catch((function(e){console.error("Sign-out error:",e)}))},navigateHome:function(){"/"!==this.$router.currentRoute.path&&this.$router.push("/").catch((function(e){"NavigationDuplicated"!==e.name&&console.error(e)}))}})},u=s,d=(n("5c0b"),n("2877")),v=n("6544"),p=n.n(v),f=n("7496"),m=n("40dc"),g=n("8336"),h=n("a523"),b=n("132d"),E=n("adda"),S=n("f6c4"),y=n("2fa4"),D=Object(d["a"])(u,a,i,!1,null,null,null),w=D.exports;p()(D,{VApp:f["a"],VAppBar:m["a"],VBtn:g["a"],VContainer:h["a"],VIcon:b["a"],VImg:E["a"],VMain:S["a"],VSpacer:y["a"]});var x=n("f309");r["a"].use(x["a"]);var R=new x["a"]({icons:{iconfont:"mdi"}}),k=(n("a4d3"),n("e01a"),n("4de4"),n("7db0"),n("c740"),n("caad"),n("d81d"),n("a434"),n("d3b7"),n("ac1f"),n("6062"),n("2532"),n("3ca3"),n("5319"),n("1276"),n("ddb0"),n("2909")),T=n("3835"),O=n("b85c"),C=(n("96cf"),n("1da1")),N=(n("5db7"),n("fb6a"),n("45fc"),n("73d9"),n("841c"),n("55b4")),_=n("b166"),L=n("f7f1"),I=n("e3ee"),A=n("8cac"),j=n("8c6f"),V=n("2186"),U=n("1315"),P=n("1494");function M(e){return("0"+e).slice(-2)}function F(e){return e&&""!==e?e.substr(0,7):"".concat((new Date).getFullYear(),"-").concat(M((new Date).getMonth()+1))}function H(e,t,n){try{var r=F(t),a=e.filter((function(e){return e.start.includes(r)})),i=a.flatMap((function(e){return Array.isArray(e[n])?e[n].map((function(e){return e.name})):[]})),o=i.sort((function(e,t){return e.split(" ")[1].localeCompare(t.split(" ")[1])})),c=Object(k["a"])(new Set(o));return c}catch(l){throw console.error("Error in getNamesInView: ".concat(l)),l}}function B(e,t){var n=Object(o["a"])({},e),r=e.rruleString.substr(e.rruleString.search("UNTIL=")+6,8),a=t.substr(0,10).split("-"),i=Object(T["a"])(a,3),c=i[0],l=i[1],s=i[2],u=Object(_["a"])(Object(L["a"])(new Date(c,l-1,s),-1),"yyyyMMdd");return n.rruleString=n.rruleString.replace(r,u),n}function Y(e,t,n,r,a){var i=[];e.map((function(e){i=[].concat(Object(k["a"])(i),Object(k["a"])($(e,e.rruleString,F(n))))}));var o=i.length-1;while(o>=0){var c=t.some((function(e){return e.id===i[o].id&&e.actionType.originalData.start===i[o].start}));c&&i.splice(o,1),o-=1}var l=t.filter((function(e){if(!e.actionType||"deleteInstance"!==e.actionType.description)return e}));return i=[].concat(Object(k["a"])(i),Object(k["a"])(l)),i}function $(e,t,n){var r=[],a=Object(I["a"])(n).getFullYear(),i=new Date(n).getUTCMonth(),c=(e.start.substr(8,2),new Date(a,i,1)),l=new Date(c.valueOf()-60*c.getTimezoneOffset()*1e3),s=Object(A["a"])(new Date(a,i)),u=new Date(s.valueOf()-60*s.getTimezoneOffset()*1e3),d=e.start.slice(0,10),v=e.end.slice(0,10),p=e.end.slice(11),f="",m=d!==v;m&&(f=Math.abs(Object(j["a"])(Object(I["a"])(e.start),Object(I["a"])(e.end))));var g,h=Object(N["c"])(t).between(l,u).map((function(e){return Object(_["a"])(U["DateTime"].fromJSDate(e).toUTC().setZone("local",{keepLocalTime:!0}).toJSDate(),"yyyy-MM-dd HH:mm")})),b=Object(O["a"])(h);try{for(b.s();!(g=b.n()).done;){var E=g.value,S=E.slice(0,10),y=m?Object(_["a"])(Object(V["a"])(Object(I["a"])(E),f),"yyyy-MM-dd HH:mm"):S+" "+p,D=Object(o["a"])({},e);D.start=E,D.end=y,r.push(D)}}catch(w){b.e(w)}finally{b.f()}return r}var W={namespaced:!0,state:{eventOpen:!1,emitRefreshAndResetNewEventState:!1,volunteerNames:[],driverHelperNames:[],selectedParticipant:{},instances:[]},actions:{initInstances:function(e,t){return Object(C["a"])(regeneratorRuntime.mark((function n(){var r,a,i,c,l,s,u,d,v,p,f,m,g;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,n.prev=1,i=Object(P["d"])(mn,"events"),n.next=5,Object(P["g"])(i);case 5:return c=n.sent,l=c.docs.map((function(e){var t=e.data();return t.rruleString&&(t.rruleString=t.rruleString.replace(/\\n/g,"\n")),Object(o["a"])({id:e.id},t)})),s=Object(P["d"])(mn,"exceptions"),n.next=10,Object(P["g"])(s);case 10:u=n.sent,d=u.docs.map((function(e){return Object(o["a"])({id:e.id},e.data())})),r("SET_INIT_RECURRING_SHIFTS",l),r("SET_INIT_EXCEPTIONS",d),v=Y(l,d,F(t.focus),"",""),p=H(v,t.focus,"volunteerNames"),f=H(v,t.focus,"driverHelperNames"),r("SET_NAMES",[p,f]),m=t.name,g=t.type,(m||g)&&(v=v.filter((function(e){var t=!1;if(e[g]&&Array.isArray(e[g])){var n,r=Object(O["a"])(e[g]);try{for(r.s();!(n=r.n()).done;){var a=n.value;a.name==m&&(t=!0)}}catch(i){r.e(i)}finally{r.f()}}return t}))),r("SET_INIT_INSTANCES",v),n.next=26;break;case 23:n.prev=23,n.t0=n["catch"](1),a("updateSnackMessage","Error at ".concat(n.t0),{root:!0});case 26:case"end":return n.stop()}}),n,null,[[1,23]])})))()},actionCreateNewEvent:function(e,t){return Object(C["a"])(regeneratorRuntime.mark((function n(){var r,a,i,o,c,l,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,i="[storeCalendar.js/actionCreateNewEvent]:",n.prev=2,o=t.isRecurring?"events":"exceptions",console.log("".concat(i," Processing new event for collection: ").concat(o)),c=Object(P["d"])(mn,o),n.next=8,Object(P["b"])(c,t);case 8:l=n.sent,t.id=l.id,s=t.isRecurring?"ADD_SHIFT":"ADD_EXCEPTION",console.log("".concat(i," Committing mutation: ").concat(s)),r(s,t),n.next=19;break;case 15:n.prev=15,n.t0=n["catch"](2),console.error("".concat(i," Error adding document: ").concat(n.t0)),a("updateSnackMessage","Error: ".concat(n.t0.message),{root:!0});case 19:case"end":return n.stop()}}),n,null,[[2,15]])})))()},updateEvent:function(e,t){return Object(C["a"])(regeneratorRuntime.mark((function n(){var r,a,i,c,l,s,u,d,v,p;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.commit,a=e.state,i=e.getters,c=e.dispatch,l="[storeCalendar.js/updateEvent]",s=function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(t){var n,s,u,d,v,p,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=t.actionType.description,e.next="updateAll"===e.t0?3:"updateInstance"===e.t0?11:"updateForward"===e.t0?17:31;break;case 3:if(n=i.getIndexEvent(t),-1===n){e.next=10;break}return s=Object(P["f"])(mn,"events",t.id),e.next=8,Object(P["i"])(s,t);case 8:r("UPDATE_SHIFT",{index:n,updatedShift:Object(o["a"])({},t)}),console.log("".concat(l," Updated all instances of a recurring event."));case 10:return e.abrupt("break",33);case 11:return t.actionType.description="updateInstance",t.isRecurring=!1,t.rruleString="",r("ADD_EXCEPTION",t),console.log("".concat(l," Updated a single instance of a recurring event.")),e.abrupt("break",33);case 17:if(u=i.getIndexEvent(t),-1===u){e.next=30;break}return d=B(Object(o["a"])({},a.events[u]),t.start),v=Object(P["f"])(mn,"events",a.events[u].id),e.next=23,Object(P["i"])(v,d);case 23:return r("UPDATE_SHIFT",{index:u,updatedShift:d}),p=Object(o["a"])(Object(o["a"])({},t),{},{id:void 0}),e.next=27,Object(P["b"])(Object(P["d"])(mn,"events"),p);case 27:f=e.sent,r("ADD_SHIFT",Object(o["a"])(Object(o["a"])({},p),{},{id:f.id})),console.log("".concat(l," Updated recurring event going forward."));case 30:return e.abrupt("break",33);case 31:console.warn("".concat(l," Unknown actionType: ").concat(t.actionType.description)),c("updateSnackMessage","Unknown actionType in updateEvent",{root:!0});case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.prev=3,t.isRecurring){n.next=24;break}if(t.actionType){n.next=15;break}if(u=i.getIndexException(t),-1===u){n.next=13;break}return d=Object(P["f"])(mn,"exceptions",t.id),n.next=11,Object(P["i"])(d,t);case 11:r("UPDATE_EXCEPTION",{exceptionIndex:u,payload:t}),console.log("".concat(l," Updated one-time event."));case 13:n.next=22;break;case 15:if(v=i.getIndexExceptionDiverged(t),-1===v){n.next=22;break}return p=Object(P["f"])(mn,"exceptions",t.id),n.next=20,Object(P["i"])(p,t);case 20:r("UPDATE_EXCEPTION",{divergedIndex:v,payload:t}),console.log("".concat(l," Updated recurring event to one-time event."));case 22:n.next=26;break;case 24:return n.next=26,s(t);case 26:n.next=32;break;case 28:n.prev=28,n.t0=n["catch"](3),console.error("".concat(l," Error updating event: ").concat(n.t0)),c("updateSnackMessage","Error: ".concat(n.t0.message),{root:!0});case 32:case"end":return n.stop()}}),n,null,[[3,28]])})))()},deleteEvent:function(e,t){return Object(C["a"])(regeneratorRuntime.mark((function n(){var r,a,i,c,l,s,u,d,v,p,f,m,g,h;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.commit,a=e.state,i=e.getters,c=e.dispatch,l="[storeCalendar.js/deleteEvent]",n.prev=2,t.isRecurring){n.next=22;break}if(t.actionType){n.next=13;break}if(s=i.getIndexException(t),-1===s){n.next=11;break}return n.next=9,Object(P["e"])(Object(P["f"])(mn,"exceptions",a.exceptions[s].id));case 9:r("DELETE_EXCEPTION",s),console.log("".concat(l," Deleted one-time event."));case 11:n.next=20;break;case 13:if(u=i.getIndexExceptionDiverged(t),-1===u){n.next=20;break}return t.actionType.description="deleteInstance",n.next=18,Object(P["e"])(Object(P["f"])(mn,"exceptions",a.exceptions[u].id));case 18:r("UPDATE_EXCEPTION",{index:u,payload:t}),console.log("".concat(l," Updated exception for a diverged instance."));case 20:n.next=64;break;case 22:n.t0=t.actionType.description,n.next="deleteAll"===n.t0?25:"deleteForward"===n.t0?46:"deleteInstance"===n.t0?54:62;break;case 25:d=a.events.filter((function(e){return e.id===t.id})),v=Object(O["a"])(d),n.prev=27,v.s();case 29:if((p=v.n()).done){n.next=35;break}return f=p.value,n.next=33,Object(P["e"])(Object(P["f"])(mn,"events",f.id));case 33:n.next=29;break;case 35:n.next=40;break;case 37:n.prev=37,n.t1=n["catch"](27),v.e(n.t1);case 40:return n.prev=40,v.f(),n.finish(40);case 43:return r("DELETE_EVENTS_MULTIPLE",d),console.log("".concat(l," Deleted all instances of a recurring event.")),n.abrupt("break",64);case 46:if(m=i.getIndexEvent(t),-1===m){n.next=53;break}return g=B(Object(o["a"])({},a.events[m]),t.start),n.next=51,Object(P["i"])(Object(P["f"])(mn,"events",a.events[m].id),g);case 51:r("UPDATE_SHIFT",{index:m,updatedShift:g}),console.log("".concat(l," Updated recurring event going forward."));case 53:return n.abrupt("break",64);case 54:return n.next=56,Object(P["b"])(Object(P["d"])(mn,"exceptions"),t);case 56:return h=n.sent,t.id=h.id,t.actionType.description="deleteInstance",r("ADD_EXCEPTION",t),console.log("".concat(l," Added exception for deleting a single instance.")),n.abrupt("break",64);case 62:console.warn("".concat(l," Unknown actionType for recurring shift.")),c("updateSnackMessage","Unknown actionType for recurring shift",{root:!0});case 64:n.next=70;break;case 66:n.prev=66,n.t2=n["catch"](2),console.error("".concat(l," Error processing event: ").concat(n.t2)),c("updateSnackMessage","Operation failed: ".concat(n.t2.message),{root:!0});case 70:case"end":return n.stop()}}),n,null,[[2,66],[27,37,40,43]])})))()},updateSelectedParticipant:function(e,t){var n=e.commit,r="[storeCalendar.js/updateSelectedParticipant]:";try{n("SET_PARTICIPANT",t),console.log("".concat(r," Participant updated successfully."),t)}catch(a){console.error("".concat(r," Error updating participant:"),a)}},adminShiftDialogOpen:function(e,t){var n=e.commit,r="[storeCalendar.js/adminShiftDialogOpen]:";try{n("SET_DIALOG",t),console.log("".concat(r," Dialog status updated successfully. Status:"),t)}catch(a){console.error("".concat(r," Error updating dialog status:"),a)}}},mutations:{SET_INIT_INSTANCES:function(e,t){e.instances=t},SET_INIT_RECURRING_SHIFTS:function(e,t){e.events=t},SET_INIT_EXCEPTIONS:function(e,t){e.exceptions=t},SET_PARTICIPANT:function(e,t){e.selectedParticipant=t},SET_NEW_EVENT_SIGNAL:function(e,t){e.emitRefreshAndResetNewEventState=t},SET_NAMES:function(e,t){var n=Array.isArray(t)?t:[[],[]],r=Object(T["a"])(n,2),a=r[0],i=void 0===a?[]:a,o=r[1],c=void 0===o?[]:o;e.volunteerNames=i,e.driverHelperNames=c},SET_DIALOG:function(e,t){e.eventOpen=t},ADD_SHIFT:function(e,t){e.events.push(t),e.emitRefreshAndResetNewEventState=!0},UPDATE_SHIFT:function(e,t){var n=t.index,r=t.updatedShift;e.events.splice(n,1,r),e.emitRefreshAndResetNewEventState=!0},DELETE_EVENTS_MULTIPLE:function(e,t){e.events=e.events.filter((function(e){return!t.includes(e)})),e.emitRefreshAndResetNewEventState=!0},ADD_EXCEPTION:function(e,t){e.exceptions.push(t),e.emitRefreshAndResetNewEventState=!0},UPDATE_EXCEPTION:function(e,t){var n=t.index,r=t.payload;e.exceptions.splice(n,1,r),e.emitRefreshAndResetNewEventState=!0},DELETE_EXCEPTION:function(e,t){e.exceptions.splice(t,1),e.emitRefreshAndResetNewEventState=!0}},getters:{getInstances:function(e){return function(t,n,r){return e.instances}},getExceptions:function(e){return function(t,n,r){return e.exceptions}},eventOpen:function(e){return e.eventOpen},getNamesVolunteers:function(e){return e.volunteerNames},getNamesDriverHelpers:function(e){return e.driverHelperNames},emitRefreshAndResetNewEventState:function(e){return e.emitRefreshAndResetNewEventState},getSelectedParticipant:function(e){return e.selectedParticipant},getCurrentEvent:function(e){return function(t){return e.instances.find((function(e){return e.id===t.id&&e.start===t.start}))}},getIndexEvent:function(e){return function(t){return e.events.findIndex((function(e){return e.id===t.id}))}},getIndexException:function(e){return function(t){return e.exceptions.findIndex((function(e){return e.id===t.id}))}},getIndexExceptionDiverged:function(e){return function(t){return e.exceptions.findIndex((function(e){return e.id===t.id&&e.actionType.originalData.start===t.start}))}},getNames:function(e,t){return function(e,n){return Object(k["a"])(new Set(t.getInstances(e,"","").filter((function(t){return t.start.includes(F(e))})).map((function(e){return e[n]})).sort((function(e,t){return e.split(" ")[1].localeCompare(t.split(" ")[1])}))))}}}},G=W;r["a"].use(c["a"]);var z=new c["a"].Store({state:{snackOpen:!1,snackMessage:"",drawer:null,user:null},modules:{storeCalendar:G},actions:{updateSnackMessage:function(e,t){var n=e.commit;e.state;n("SET_SNACK_MESSAGE",t)},setUser:function(e,t){var n=e.commit;n("SET_USER",t)}},mutations:{SET_SNACK_MESSAGE:function(e,t){e.snackMessage=t},SET_USER:function(e,t){e.user=t},drawerChange:function(e){e.drawer=!e.drawer}},getters:{snackOpen:function(e){return e.snackOpen},drawerStatus:function(e){return e.drawer}}}),q=n("8c4f"),X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"uniqueContainerId123"}},[n("Calendar"),n("Snackbar")],1)},Z=[],J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{id:"dynamicContentArea456",fluid:""}},[e.isLoggedIn?e._e():n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"12",sm:"8",md:"6",lg:"6"}},[n("v-alert",{attrs:{text:"",dense:"",color:"info",border:"top"}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{staticClass:"grow"},[e._v(" For organizations interested in volunteering, please register your participation by clicking the button to join our efforts in making a difference. ")]),n("v-col",{staticClass:"shrink"},[n("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.showOrganizationDialog=!0}}},[e._v("Participate")])],1)],1)],1),n("organization-dialog",{attrs:{value:e.showOrganizationDialog},on:{input:function(t){e.showOrganizationDialog=t}}})],1)],1),n("v-row",{staticClass:"fill-height"},[n("v-col",[n("v-row",[n("v-col",{attrs:{cols:e.isLoggedIn?"12":"10",lg:e.isLoggedIn?"10":"12",id:"calendarContent"}},[n("calendar-tool-bar",{attrs:{reference:this.$refs.calendar,focus:e.focus,shifts:e.shifts,propType:e.type},on:{todayButtonClick:e.viewToday,typeDay:function(t){return e.updateCalendarViewType("day")},typeWeek:function(t){return e.updateCalendarViewType("week")},typeMonth:function(t){return e.updateCalendarViewType("month")},type4day:function(t){return e.updateCalendarViewType("4day")}}}),n("div",{staticClass:"printInformationArea"}),n("v-calendar",{ref:"calendar",attrs:{type:e.type,events:e.shifts,"event-color":"#f1f3f4","event-text-color":"#333","event-margin-bottom":5,"event-height":135,"events-more":!1,"show-week":!1},on:{"click:event":e.handleClickEvent,"click:date":function(t){e.isLoggedIn&&e.prepareAndOpenShiftCreationDialog(t)},"click:day":function(t){e.isLoggedIn&&e.prepareAndOpenShiftCreationDialog(t)},change:e.loadAndUpdateShifts},scopedSlots:e._u([{key:"event",fn:function(t){var r=t.event;return[n("calendar-day",{attrs:{event:r,"is-logged-in":e.isLoggedIn}})]}}]),model:{value:e.focus,callback:function(t){e.focus=t},expression:"focus"}})],1),e.isLoggedIn?n("v-col",{attrs:{cols:"12",lg:"2"}},[n("calendar-side-bar",{attrs:{focus:e.focus},on:{selectedParticipant:function(t){return e.loadAndUpdateShifts()}}})],1):e._e()],1)],1)],1),n("calendar-event-dialog",{attrs:{dateForNewShift:e.dateForNewShift,updateLocalStateOnShiftSelectionChange:e.selectedShift,selectedWeekdayNum:e.selectedWeekdayNum,originalData:e.originalData},on:{refresh:function(t){return e.loadAndUpdateShifts()}}}),n("calendar-volunteer-dialog",{attrs:{selectedShift:e.selectedShift},on:{"dialogs-completed":e.fetchUpdatedShifts},model:{value:e.showVolunteerDialog,callback:function(t){e.showVolunteerDialog=t},expression:"showVolunteerDialog"}})],1)},K=[],Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"event__inner pt-1",class:e.event.isRecurring?"":"nonRecurringEvent",attrs:{fluid:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",[n("span",{staticClass:"text-caption font-weight-bold"},[e._v(e._s(e.event.shiftTitle||(e.event.isRecurring?"Recurring Shift":"Single Occurrence Shift")))])])],1),n("v-divider",{staticClass:"grey darken-1 mb-1 mt-1"}),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("div",{staticClass:"text-caption font-weight-bold"},[e._v("Available Spots:")]),n("div",{staticClass:"text-caption mb-n1",class:{strikethrough:0===e.availableVolunteerSpots}},[e._v("Volunteers: "),n("strong",[e._v(e._s(e.availableVolunteerSpots))])]),n("div",{staticClass:"text-caption mb-1",class:{strikethrough:0===e.availableDriverSpots}},[e._v("Drivers / Helpers: "),n("strong",[e._v(e._s(e.availableDriverSpots))])])])],1),n("v-divider",{staticClass:"grey darken-1 mb-2"}),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[e.isLoggedIn?n("v-btn",e._g(e._b({staticClass:"d-inline-block",attrs:{color:"primary","x-small":""}},"v-btn",a,!1),r),[e._v("Update")]):n("v-btn",e._g(e._b({staticClass:"d-inline-block",attrs:{color:"primary","x-small":""}},"v-btn",a,!1),r),[e._v("Volunteer")])]}}])},[e.isLoggedIn?n("span",[e._v("View participants for this shift.")]):n("span",[e._v("Sign up to help with the shift.")])])],1)],1)],1)},ee=[],te={name:"CalendarDay",components:{},data:function(){return{}},props:{event:{type:Object,default:function(){return{}}},isLoggedIn:{type:Boolean,default:!1}},computed:{availableVolunteerSpots:function(){return this.event.volunteerLimit&&Array.isArray(this.event.volunteerNames)?this.event.volunteerLimit-this.event.volunteerNames.length:0},availableDriverSpots:function(){return this.event.driverHelperLimit&&Array.isArray(this.event.driverHelperNames)?this.event.driverHelperLimit-this.event.driverHelperNames.length:0}},methods:{duration:function(e){return Math.abs(Object(j["a"])(Object(I["a"])(e.start),Object(I["a"])(e.end)))/60},displayTime:function(e){return e.slice(11)}}},ne=te,re=(n("6ca2"),n("62ad")),ae=n("ce7e"),ie=n("0fd9"),oe=n("3a2f"),ce=Object(d["a"])(ne,Q,ee,!1,null,"4db5fd3d",null),le=ce.exports;p()(ce,{VBtn:g["a"],VCol:re["a"],VContainer:h["a"],VDivider:ae["a"],VRow:ie["a"],VTooltip:oe["a"]});var se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-sheet",{attrs:{height:"64"}},[n("v-toolbar",{attrs:{flat:""}},[n("v-row",{attrs:{align:"center",justify:"space-between","no-gutters":""}},[n("v-col",{attrs:{cols:"4"}},[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({attrs:{outlined:"",color:"grey darken-2"}},"v-btn",a,!1),r),[n("span",[e._v(e._s(e.typeToLabel[e.propType]))]),n("v-icon",{attrs:{right:""}},[e._v("mdi-menu-down")])],1)]}}])},[n("v-list",[n("v-list-item",{on:{click:function(t){return e.$emit("typeMonth")}}},[n("v-list-item-title",[e._v("Month")])],1),n("v-list-item",{on:{click:function(t){return e.$emit("typeWeek")}}},[n("v-list-item-title",[e._v("Week")])],1),n("v-list-item",{on:{click:function(t){return e.$emit("type4day")}}},[n("v-list-item-title",[e._v("4 days")])],1),n("v-list-item",{on:{click:function(t){return e.$emit("typeDay")}}},[n("v-list-item-title",[e._v("Day")])],1)],1)],1),n("v-btn",{staticClass:"mx-2",attrs:{outlined:"",color:"grey darken-2"},on:{click:function(t){return e.$emit("todayButtonClick")}}},[e._v(" Today ")]),n("v-btn",{staticClass:"mr-2",attrs:{outlined:"",color:"grey darken-2"},on:{click:e.prev}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-chevron-left")])],1),n("v-btn",{attrs:{outlined:"",color:"grey darken-2"},on:{click:e.next}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-chevron-right")])],1)],1),n("v-col",{staticClass:"d-flex justify-center align-center",attrs:{cols:"4"}},[e.reference?n("v-toolbar-title",{staticClass:"d-flex align-center justify-center"},[n("span",[e._v(e._s(e.reference.title))]),e.isLoggedIn?n("span",{staticClass:"ml-2"},[e._v(" | Selected: "),n("span",{staticClass:"blue--text"},[e._v(e._s(e.getSelectedParticipant.name||"All"))])]):e._e()]):e._e()],1),n("v-col",{staticClass:"text-right",attrs:{cols:"4",md:"4"}},[n("v-chip",{attrs:{color:"blue darken-1",label:"","text-color":"white"}},[n("v-icon",{attrs:{left:""}},[e._v("mdi-clock-outline")]),e._v(" Total Hours: "+e._s(e.totalHours)+" ")],1),n("v-chip",{staticClass:"ma-2",attrs:{color:"blue darken-1",label:"","text-color":"white"}},[n("v-icon",{attrs:{left:""}},[e._v("mdi-calendar-range")]),e._v(" Total Shifts: "+e._s(e.shifts.length)+" ")],1),n("v-chip",{staticClass:"mr-0",attrs:{color:"blue darken-1",label:"","text-color":"white"},on:{click:function(t){return e.PDFCalendar(e.getSelectedParticipant.name,e.focus)}}},[n("v-icon",{attrs:{left:""}},[e._v("mdi-download")]),e._v(" Download PDF ")],1)],1)],1)],1)],1)},ue=[],de=(n("13d5"),n("ade3")),ve=n("8baf"),pe=n("c0e9"),fe=n.n(pe),me={components:{},data:function(){return{typeToLabel:{month:"Month",week:"Week",day:"Day","4day":"4 Days"}}},props:{shifts:{type:Array,default:function(){return[]}},focus:{type:String,default:""},propType:{type:String,default:""},reference:{type:Object,default:function(){return{}}}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])("storeCalendar",["getSelectedParticipant"])),{},{isLoggedIn:function(){return!!this.$store.state.user},totalHours:{get:function(){try{if(!this.shifts.length)return 0;var e=this.shifts.reduce((function(e,t){var n=parseFloat(t.duration);return isNaN(n)?e:e+n}),0);return e}catch(t){return 0}}},buttonSize:function(){var e={xs:"x-small",sm:"small",md:"small",lg:"small",xl:"large"}[this.$vuetify.breakpoint.name];return e?Object(de["a"])({},e,!0):{}}}),methods:{prev:function(){this.reference.prev()},next:function(){this.reference.next()},PDFCalendar:function(e,t){var n=document.querySelector("#calendarContent"),r=n.cloneNode(!0);r.id="printCalendarClone",n.after(r);var a=document.createElement("h3");a.style.paddingTop="1rem",a.style.paddingBottom="1rem";var i=void 0===e?"All":e,o=t&&""!==t?t.substr(0,7):"".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1);a.innerHTML="".concat(i," ").concat(o);var c=document.querySelector("#printCalendarClone").getElementsByClassName("printInformationArea")[0];c.appendChild(a);var l=new ve["a"]({orientation:"portrait",format:[470,500]}),s=document.querySelector("#printCalendarClone"),u=s.style.width,d=s.style.height;fe()(s).then((function(e){var t=e.toDataURL("image/png");l.addImage(t,"JPEG",20,20,u,d),l.save("".concat(i,"-").concat(o,".pdf"))})).catch((function(e){this.updateSnackMessage("Error at html2canvas : ".concat(e," "))}))}}},ge=me,he=(n("dbda"),n("cc20")),be=n("8860"),Ee=n("da13"),Se=n("5d23"),ye=n("e449"),De=n("8dd9"),we=n("71d9"),xe=n("2a7f"),Re=Object(d["a"])(ge,se,ue,!1,null,"4f008d23",null),ke=Re.exports;p()(Re,{VBtn:g["a"],VChip:he["a"],VCol:re["a"],VIcon:b["a"],VList:be["a"],VListItem:Ee["a"],VListItemTitle:Se["b"],VMenu:ye["a"],VRow:ie["a"],VSheet:De["a"],VToolbar:we["a"],VToolbarTitle:xe["a"]});var Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mt-16"},[n("v-navigation-drawer",{attrs:{width:"100%",permanent:e.$vuetify.breakpoint.lgAndUp,absolute:e.$vuetify.breakpoint.mdAndDown,floating:"",right:""},model:{value:e.drawerSwitch,callback:function(t){e.drawerSwitch=t},expression:"drawerSwitch"}},[n("v-list",[n("v-list-item-group",[n("v-list-item",{staticClass:"mt-n2",class:""!==e.getSelectedParticipant.name&&e.getSelectedParticipant.name?"white":"blue",attrs:{link:""},on:{click:function(t){return e.eventsByName("","")}}},[n("v-list-item-title",{class:""!==e.getSelectedParticipant.name&&e.getSelectedParticipant.name?"":"white--text"},[n("span",{staticClass:"mr-2"},[e._v("All")])])],1)],1),n("v-list-group",{staticClass:"grey lighten-4",attrs:{value:"volunteers"===e.expandedGroup&&e.namesVolunteers.length>0,dense:""},on:{input:function(t){return e.handleGroupToggle("volunteers")}},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-title",[n("span",{staticClass:"mr-3"},[e._v("Volunteers")]),n("span",{staticClass:"caption grey--text"},[e._v(e._s(e.namesVolunteers.length))])])]},proxy:!0}])},[n("v-virtual-scroll",{attrs:{items:e.namesVolunteers,"item-height":40,height:e.volunteersScrollHeight},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;return[n("v-list-item",{class:r===e.getSelectedParticipant.name?"blue":"",attrs:{link:"",dense:""},on:{click:function(t){return e.eventsByName(r,"volunteerNames")}}},[n("v-list-item-title",{class:r===e.getSelectedParticipant.name?"white--text":""},[e._v(" "+e._s(r)+" ")])],1)]}}])})],1),n("v-list-group",{staticClass:"grey lighten-4",attrs:{value:"driverHelpers"===e.expandedGroup&&e.namesDriverHelpers.length>0},on:{input:function(t){return e.handleGroupToggle("driverHelpers")}},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-title",[n("span",{staticClass:"mr-3"},[e._v("Drivers / Driver Helpers")]),n("span",{staticClass:"caption grey--text"},[e._v(e._s(e.namesDriverHelpers.length))])])]},proxy:!0}])},[n("v-virtual-scroll",{attrs:{items:e.namesDriverHelpers,"item-height":40,height:e.driverHelpersScrollHeight},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;return[n("v-list-item",{class:r===e.getSelectedParticipant.name?"blue":"",attrs:{link:"",dense:""},on:{click:function(t){return e.eventsByName(r,"driverHelperNames")}}},[n("v-list-item-title",{class:r===e.getSelectedParticipant.name?"white--text":""},[e._v(" "+e._s(r)+" ")])],1)]}}])})],1)],1)],1)],1)},Oe=[],Ce={name:"CalendarSideBar",props:{focus:{type:String,default:""}},data:function(){return{valid:!1,loading:!1,items:[],expandedGroup:"volunteers"}},watch:{},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["c"])(["drawerStatus"])),Object(c["c"])("storeCalendar",["getSelectedParticipant","getNamesVolunteers","getNamesDriverHelpers"])),{},{drawerSwitch:{get:function(){return this.drawerStatus},set:function(){}},namesVolunteers:{get:function(){return Object(k["a"])(this.getNamesVolunteers).filter((function(e){return""!==e})).map((function(e){return e})).sort((function(e,t){return e.split(" ")[1].localeCompare(t.split(" ")[1])}))}},namesDriverHelpers:{get:function(){return Object(k["a"])(this.getNamesDriverHelpers).filter((function(e){return""!==e})).map((function(e){return e})).sort((function(e,t){return e.split(" ")[1].localeCompare(t.split(" ")[1])}))}},volunteersScrollHeight:function(){var e=40,t=220,n=this.namesVolunteers.length*e;return Math.min(n,t)+"px"},driverHelpersScrollHeight:function(){var e=40,t=220,n=this.namesDriverHelpers.length*e;return Math.min(n,t)+"px"}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["b"])(["updateSnackMessage"])),Object(c["b"])("storeCalendar",["updateSelectedParticipant"])),Object(c["d"])(["drawerChange"])),{},{eventsByName:function(e,t){var n=this;return Object(C["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.updateSelectedParticipant({name:e,type:t});case 3:n.$emit("selectedParticipant"),n.drawerChange(),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),console.error("[CalendarSideBar/eventsByName]: Error updating selected participant.",r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},handleGroupToggle:function(e){var t="volunteers"===e?this.namesVolunteers.length>0:this.namesDriverHelpers.length>0;t&&(this.expandedGroup=this.expandedGroup===e?"":e)},checkDuplicateName:function(e,t){return this[t].includes(e)},clearItems:function(){this.items=[]}})},Ne=Ce,_e=n("56b0"),Le=n("1baa"),Ie=n("f774"),Ae=n("0de5"),je=Object(d["a"])(Ne,Te,Oe,!1,null,null,null),Ve=je.exports;p()(je,{VList:be["a"],VListGroup:_e["a"],VListItem:Ee["a"],VListItemGroup:Le["a"],VListItemTitle:Se["b"],VNavigationDrawer:Ie["a"],VVirtualScroll:Ae["a"]});var Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-dialog",{attrs:{persistent:"","max-width":"720"},on:{"click:outside":function(t){return e.adminShiftDialogOpen(!1)}},model:{value:e.eventOpen,callback:function(t){e.eventOpen=t},expression:"eventOpen"}},[n("v-card",[n("v-toolbar",[n("v-toolbar-title",[e._v(" "+e._s(e.newEvent?"Create Event":"Update Event")+" ")]),n("v-spacer"),n("v-btn",{attrs:{depressed:""},on:{click:function(t){return e.adminShiftDialogOpen(!1)}}},[n("v-icon",[e._v("mdi-close")])],1)],1),n("v-card-text",[n("v-row",{staticClass:"pt-6",attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Shift Title (Optional)",hint:"Enter a descriptive title for the shift, if desired.",type:"text",rules:[function(e){return e.length<=25||"Max 25 characters"}]},model:{value:e.localSelectedEvent.shiftTitle,callback:function(t){e.$set(e.localSelectedEvent,"shiftTitle",t)},expression:"localSelectedEvent.shiftTitle"}})],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{staticClass:"pr-6",attrs:{cols:"12",sm:"6"}},[n("v-text-field",{attrs:{hint:"Provide number of allowed volunteers.",label:"Volunteer Limit",type:"number",rules:[function(e){return!isNaN(e)&&e>=0&&e<=10||"The number must be between 0 and 10."}]},model:{value:e.localSelectedEvent.volunteerLimit,callback:function(t){e.$set(e.localSelectedEvent,"volunteerLimit",t)},expression:"localSelectedEvent.volunteerLimit"}})],1),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{attrs:{hint:"Provide number of allowed drivers and/or helpers.",label:"Driver / Helper Limit",type:"number",rules:[function(e){return!isNaN(e)&&e>=0&&e<=10||"The number must be between 0 and 10."}]},model:{value:e.localSelectedEvent.driverHelperLimit,callback:function(t){e.$set(e.localSelectedEvent,"driverHelperLimit",t)},expression:"localSelectedEvent.driverHelperLimit"}})],1)],1),n("calendar-event-time",{attrs:{event:e.localSelectedEvent},on:{startTimeChanged:function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];e.updateRecurringEventStartTime.apply(void 0,t),e.updateRRULEUntilDateTime.apply(void 0,t.concat([e.convertUNTILStringToFormattedDate(e.localUNTIL,"-","yyyymmdd")]))}}}),e.localSelectedEvent.isRecurring||e.newEvent?n("v-row",{attrs:{align:"start","no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("span",[e._v("Choose Shift Type:")]),n("v-checkbox",{staticClass:"mt-1",attrs:{label:"Recurring",disabled:e.localSelectedEvent.isRecurring&&!e.newEvent},model:{value:e.localSelectedEvent.isRecurring,callback:function(t){e.$set(e.localSelectedEvent,"isRecurring",t)},expression:"localSelectedEvent.isRecurring"}})],1)],1):e._e(),n("v-expand-transition",[e.localSelectedEvent.isRecurring?n("v-row",{attrs:{"no-gutters":""}},e._l(e.weekdayNames,(function(t){return n("div",{key:t},[n("v-col",{staticClass:"mr-1",attrs:{cols:"12",sm:"1"}},[n("v-checkbox",{attrs:{multiple:"",label:t,value:t},on:{change:function(t){return e.updateRRULEWeekdays(e.localBYDAY)}},model:{value:e.localBYDAY,callback:function(t){e.localBYDAY=t},expression:"localBYDAY"}})],1)],1)})),0):e._e()],1),n("v-expand-transition",[e.localSelectedEvent.isRecurring?n("v-row",[n("v-col",{attrs:{cols:"6",sm:"6"}},[n("v-select",{attrs:{items:e.intervalValues,label:"Recurring Shift Interval",hint:"Select how often the shift recurs. For example, selecting '2' means the shift will recur every 2 weeks.","persistent-hint":"","single-line":"",value:"localINTERVAL",rules:[function(e){return!!e||"Interval selection is required"}]},on:{change:e.updateRRULEInterval},model:{value:e.localINTERVAL,callback:function(t){e.localINTERVAL=t},expression:"localINTERVAL"}})],1),n("v-col",{attrs:{cols:"6",sm:"6"}},[n("calendar-until-date-picker",{attrs:{until:e.convertUNTILStringToFormattedDate(e.localUNTIL,"/","mmddyyyy"),minimumEventDate:e.convertDateToISOFormat(e.localSelectedEvent.start)},on:{untilPicked:function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];return e.updateRRULEUntilDateTime.apply(void 0,[e.localSelectedEvent.start].concat(t))}}})],1)],1):e._e()],1),n("v-row",{staticClass:"mt-3",attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12",sm:"12"}},[n("v-alert",{staticClass:"grey lighten-3",attrs:{outlined:"",dense:""}},[n("span",{staticClass:"text-body-2 font-weight-bold"},[e._v("Shift Details:")]),e.localSelectedEvent.isRecurring?[n("div",{staticClass:"text-body-2"},[e._v(" Shift start on "+e._s(e.formatDTSTARTDateWithSuffix(e.localSelectedEvent.rruleString))+" "+e._s(e.generateReadableRRULEDescription(e.localSelectedEvent.rruleString))+" ")])]:[e.localSelectedEvent.hasOwnProperty("actionType")?n("div",{staticClass:"text-body-2"},[e._v(" Single-Occurrence Diverged Shift ")]):n("div",{staticClass:"text-body-2"},[e._v("Single-Occurrence Shift")])]],2)],1)],1),e.safeVolunteerNames.length>0||e.safeDriverHelperNames.length>0?n("v-row",{attrs:{justify:"center","no-gutters":""}},[n("v-expansion-panels",{attrs:{accordion:"",focusable:""}},[e.safeVolunteerNames.length>0?n("v-expansion-panel",[n("v-expansion-panel-header",[e._v("Volunteers")]),n("v-expansion-panel-content",[n("v-data-table",{attrs:{headers:[{text:"Name",value:"name"},{text:"Email",value:"email"}],items:e.safeVolunteerNames,"hide-default-footer":""}})],1)],1):e._e(),e.safeDriverHelperNames.length>0?n("v-expansion-panel",[n("v-expansion-panel-header",[e._v("Driver / Driver Helpers")]),n("v-expansion-panel-content",[n("v-data-table",{attrs:{headers:[{text:"Name",value:"name"},{text:"Email",value:"email"}],items:e.safeDriverHelperNames,"hide-default-footer":""}})],1)],1):e._e()],1)],1):e._e()],1),n("v-card-actions",[e.localSelectedEvent.isRecurring?n("div",[n("v-menu",{attrs:{bottom:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({attrs:{text:"",color:"orange",disabled:e.newEvent}},"v-btn",a,!1),r),[e._v(" Delete "),n("v-icon",{attrs:{right:"",dark:""}},[e._v(" mdi-trash-can-outline ")])],1)]}}],null,!1,141575925)},[n("v-list",e._l(e.deleteOptions,(function(t,r){return n("v-list-item",{key:r,on:{click:function(n){return e.removeShiftAfterDeleteButtonClicked(e.localSelectedEvent,t.action)}}},[n("v-list-item-title",[e._v(" "+e._s(t.title)+" ")])],1)})),1)],1)],1):n("div",[n("v-btn",{attrs:{disabled:e.newEvent,text:"",color:"orange"},on:{click:function(t){return e.removeShiftAfterDeleteButtonClicked(e.localSelectedEvent)}}},[e._v(" Delete "),n("v-icon",{attrs:{right:"",dark:""}},[e._v(" mdi-trash-can-outline ")])],1)],1),n("v-spacer"),e.localSelectedEvent.isRecurring&&e.newEvent?n("div",[n("v-btn",{attrs:{disabled:!e.valid&&e.newEvent,depressed:"",color:"primary darken-1 white--text"},on:{click:function(t){return e.createAndSaveNewShift(e.localSelectedEvent)}}},[e._v(" Create "),n("v-icon",{attrs:{right:"",dark:""}},[e._v("mdi-content-save")])],1)],1):!e.localSelectedEvent.isRecurring&&e.newEvent?n("div",[n("v-btn",{attrs:{disabled:!e.valid&&e.newEvent,depressed:"",color:"green darken-1 white--text"},on:{click:function(t){return e.createAndSaveNewShift(e.localSelectedEvent)}}},[e._v(" Create "),n("v-icon",{attrs:{right:"",dark:""}},[e._v("mdi-content-save")])],1)],1):e.localSelectedEvent.isRecurring&&!e.newEvent?n("div",[n("v-menu",{attrs:{bottom:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({attrs:{depressed:"",color:e.localSelectedEvent.isRecurring?"primary darken-1 white--text":"green darken-1 white--text",disabled:!e.valid}},"v-btn",a,!1),r),[e._v(" Save "),n("v-icon",{attrs:{right:"",dark:""}},[e._v(" mdi-content-save ")])],1)]}}])},[n("v-list",e._l(e.saveOptions,(function(t,r){return n("v-list-item",{key:r,on:{click:function(n){return e.updateShiftAfterSaveButtonClicked(e.localSelectedEvent,t.action)}}},[n("v-list-item-title",[e._v(" "+e._s(t.title)+" ")])],1)})),1)],1)],1):n("div",[n("v-btn",{attrs:{disabled:!e.valid&&e.newEvent,depressed:"",color:"green darken-1 white--text"},on:{click:function(t){return e.updateShiftAfterSaveButtonClicked(e.localSelectedEvent)}}},[e._v(" Save "),n("v-icon",{attrs:{right:"",dark:""}},[e._v("mdi-content-save")])],1)],1)],1)],1)],1)],1)},Pe=[],Me=(n("c975"),n("a15b"),n("a9e3"),n("b64b"),n("25f0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",[n("v-col",{attrs:{cols:"4"}},[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.compuStart,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.compuStart=t},"update:return-value":function(t){e.compuStart=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{value:e.formattedCompuStart,label:"Start Time",readonly:""}},"v-text-field",a,!1),r))]}}]),model:{value:e.menu_start,callback:function(t){e.menu_start=t},expression:"menu_start"}},[e.menu_start?n("v-time-picker",{attrs:{"allowed-minutes":e.allowedStep,"ampm-in-title":"",format:"ampm","use-ampm":"","full-width":""},on:{"click:minute":function(t){return e.$refs.menu.save(e.compuStart)}},model:{value:e.compuStart,callback:function(t){e.compuStart=t},expression:"compuStart"}}):e._e()],1)],1),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{label:"Shift Duration",rules:e.rulesDuration},on:{blur:function(t){e.duration=e.compuDur}},model:{value:e.compuDur,callback:function(t){e.compuDur=t},expression:"compuDur"}})],1),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{value:e.formattedCompuEnd,label:"End time",disabled:""}})],1)],1)}),Fe=[],He=(n("4d90"),{name:"CalendarEventTime",props:{event:{type:Object,default:function(){return{}}}},data:function(){return{start_time:"",menu_start:!1,rulesDuration:[function(e){return!!e||"Required"},function(e){return!e||e<=24||"Maximum 24"},function(e){return!e||/^\s*(?=.*[1-9])\d+(\.(?:0|00|25|5|50|75))?$/.test(e)||"Ranges 0.25 to 24 in 0.25 increments"}]}},computed:{compuStart:{get:function(e){return this.timeOnly(this.event.start)},set:function(e){var t=this.compuDur;this.event.start=this.formatFull(e,"start"),this.compuDur=t,this.$emit("startTimeChanged",e)}},compuDur:{get:function(){var e=Math.abs(Object(j["a"])(Object(I["a"])(this.event.start),Object(I["a"])(this.event.end))),t=e/60;return t},set:function(e){var t=this.compuDur,n=/^\s*(?=.*[1-9])\d+(\.(?:0|00|25|5|50|75))?$/,r=n.test(e);if(r){this.event.duration=e;var a=60*e;this.compuEnd=a}else this.event.duration=t}},compuEnd:{get:function(e){return this.timeOnly(this.event.end)},set:function(e){if(!isNaN(e)){this.displayDate(this.event.start);this.event.end=Object(_["a"])(Object(V["a"])(Object(I["a"])(this.event.start),e),"yyyy-MM-dd HH:mm")}}},formattedCompuStart:{get:function(){if(!this.compuStart)return"";var e=this.compuStart.split(":"),t=Object(T["a"])(e,2),n=t[0],r=t[1],a=parseInt(n,10),i=a>=12?"PM":"AM";return n=a%12,n=n||12,r=parseInt(r,10),"".concat(n.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0")," ").concat(i)},set:function(e){}},formattedCompuEnd:{get:function(){if(!this.compuEnd)return"";var e=this.compuEnd.split(":"),t=Object(T["a"])(e,2),n=t[0],r=t[1],a=parseInt(n,10),i=a>=12?"PM":"AM";return n=a%12,n=n||12,r=parseInt(r,10),"".concat(n.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0")," ").concat(i)},set:function(e){}}},watch:{start_time:function(e){this.event.start=this.formatFull(this.start_time,"start")}},methods:{timeOnly:function(e){return e?e.slice(11):"00:00"},displayDate:function(e){return e?e.substring(0,10):""},formatFull:function(e,t){if(!e||!t)return null;var n="start"===t?this.event.start.substring(0,10):this.event.end.substring(0,10);return"".concat(n," ").concat(e)},allowedStep:function(e){return e%15===0}}}),Be=He,Ye=n("8654"),$e=n("c964"),We=Object(d["a"])(Be,Me,Fe,!1,null,null,null),Ge=We.exports;p()(We,{VCol:re["a"],VMenu:ye["a"],VRow:ie["a"],VTextField:Ye["a"],VTimePicker:$e["a"]});var ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-menu",{ref:"untilMenu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"Select Until Date",hint:"Choose a date until which the shift is valid","persistent-hint":"","append-icon":"mdi-calendar"},on:{blur:function(t){e.localDate=e.compDate},"click:append":function(t){e.untilMenu=!e.untilMenu}},model:{value:e.formattedCompDate,callback:function(t){e.formattedCompDate=t},expression:"formattedCompDate"}},"v-text-field",a,!1),r))]}}]),model:{value:e.untilMenu,callback:function(t){e.untilMenu=t},expression:"untilMenu"}},[n("v-date-picker",{attrs:{"no-title":"",min:e.minimumEventDate,max:e.maxDate},on:{input:function(t){e.untilMenu=!1}},model:{value:e.compDate,callback:function(t){e.compDate=t},expression:"compDate"}})],1)],1)},qe=[],Xe=(n("4d63"),{name:"CalendarUntilDatePicker",props:{until:{type:String,default:""},minimumEventDate:{type:String,default:""}},data:function(){var e=new Date,t=new Date(e.setFullYear(e.getFullYear()+1)).toISOString().split("T")[0];return{dateLocal:"",untilMenu:!1,maxDate:t}},computed:{compDate:{get:function(){return this.dateLocal||this.toISOFormat(this.until)},set:function(e){this.dateLocal=e,this.$emit("untilPicked",this.dateLocal)}},localDate:{get:function(){return this.dateLocal},set:function(e){this.dateLocal=e}},formattedCompDate:{get:function(){if(!this.compDate)return"";var e=this.compDate.split("-").map((function(e){return parseInt(e,10)})),t=Object(T["a"])(e,3),n=t[0],r=t[1],a=t[2],i=new Date(n,r-1,a),o=a+this.getOrdinal(a),c={year:"numeric",month:"long",day:"numeric"},l=i.toLocaleDateString("en-US",c),s=new RegExp("\\b"+a+"\\b");return l=l.replace(s,o),l},set:function(e){}}},methods:{toISOFormat:function(e){if(!e)return null;var t=e.split("/"),n=Object(T["a"])(t,3),r=n[0],a=n[1],i=n[2];return"".concat(i,"-").concat(r.padStart(2,"0"),"-").concat(a.padStart(2,"0"))},getOrdinal:function(e){if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}}}),Ze=Xe,Je=n("2e4b"),Ke=Object(d["a"])(Ze,ze,qe,!1,null,null,null),Qe=Ke.exports;p()(Ke,{VDatePicker:Je["a"],VMenu:ye["a"],VTextField:Ye["a"]});var et={components:{CalendarEventTime:Ge,CalendarUntilDatePicker:Qe},props:{updateLocalStateOnShiftSelectionChange:{type:Object,default:function(){return{}}},dateForNewShift:{type:Object,default:function(){return{}}},selectedWeekdayNum:{type:Number,default:0},originalData:{type:Object,default:function(){return{}}}},data:function(){return{valid:!1,localSelectedEvent:{shiftTitle:"",volunteerLimit:3,driverHelperLimit:2},newEvent:!1,weekdayNames:["SU","MO","TU","WE","TH","FR","SA"],intervalValues:["1","2","3","4"],localINTERVAL:"",localUNTIL:"",localBYDAY:[],rruleDescriptionCache:{},volunteerNames:[],driverHelperNames:[],deleteOptions:[{title:"Delete this instance",action:"deleteInstance"},{title:"Delete forward",action:"deleteForward"},{title:"Delete All",action:"deleteAll"}],saveOptions:[{title:"Update this only",action:"updateInstance"},{title:"Update forward",action:"updateForward"},{title:"Update All",action:"updateAll"}]}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])("storeCalendar",["eventOpen","getIndexEvent","getSelectedParticipant","emitRefreshAndResetNewEventState"])),{},{safeVolunteerNames:function(){return this.localSelectedEvent.volunteerNames||[]},safeDriverHelperNames:function(){return this.localSelectedEvent.driverHelperNames||[]}}),watch:{dateForNewShift:function(e){this.isObjectNotEmpty(e)&&(this.openAdminShiftDialogAndPopulateDefaultData(e),console.log("[CalendarEventDialog.vue/dateForNewShift]: Watch has triggered."))},updateLocalStateOnShiftSelectionChange:function(e){this.isObjectNotEmpty(e)&&(this.newEvent=!1,this.localSelectedEvent=e),this.localBYDAY=this.getBYDAYFromRRULE(this.localSelectedEvent.rruleString),this.localUNTIL=this.getUNTILFromDateRRULE(this.localSelectedEvent.rruleString),this.localINTERVAL=this.getINTERVALFromRRULE(this.localSelectedEvent.rruleString),console.log("[CalendarEventDialog.vue/updateLocalStateOnShiftSelectionChange]: Watch has triggered.",e)},localSelectedEvent:{deep:!0,handler:function(){try{this.newEvent&&(this.localSelectedEvent.isRecurring?(this.localSelectedEvent.rruleString=this.createRRULEStringDuringShiftCreation(this.localSelectedEvent),this.localINTERVAL=this.getINTERVALFromRRULE(this.localSelectedEvent.rruleString),this.localUNTIL=this.getUNTILFromDateRRULE(this.localSelectedEvent.rruleString),console.log("[CalendarEventDialog.vue/updateRRULEForShift]: RRULE for shift updated as the shift is recurring.")):(this.localSelectedEvent.rruleString="",console.log("[CalendarEventDialog.vue/updateRRULEForShift]: RRULE for shift cleared as the shift is not recurring.")))}catch(e){console.error("[CalendarEventDialog.vue/updateRRULEForShift]: Error updating RRULE for shift:",e)}}},emitRefreshAndResetNewEventState:function(){this.$emit("refresh"),this.SET_NEW_EVENT_SIGNAL(!1)}},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["b"])(["updateSnackMessage"])),Object(c["b"])("storeCalendar",["adminShiftDialogOpen","actionCreateNewEvent","updateEvent","deleteEvent"])),Object(c["d"])("storeCalendar",["SET_NEW_EVENT_SIGNAL"])),{},{isObjectNotEmpty:function(e){var t=Object.keys(e).length>0;return console.log("[CalendarEventDialog.vue/isObjectNotEmpty]: Object has properties: ".concat(t)),t},convertDateToISOFormat:function(e){if(!e)return console.log("[CalendarEventDialog.vue/convertDateToISOFormat]: No date provided."),"";try{var t=Object(_["a"])(Object(I["a"])(e),"yyyy-MM-dd");return console.log("[CalendarEventDialog.vue/convertDateToISOFormat]: Date converted to ISO format successfully."),t}catch(n){return console.error("[CalendarEventDialog.vue/convertDateToISOFormat]: Error converting date to ISO format: ".concat(n)),""}},openAdminShiftDialogAndPopulateDefaultData:function(e){var t=e.date;try{this.valid=!1,this.newEvent=!0,this.localSelectedEvent={shiftTitle:"",volunteerLimit:"3",volunteerNames:[],driverHelperLimit:"2",driverHelperNames:[],start:"".concat(t," 08:30"),end:"".concat(t," 12:30"),duration:"4",isRecurring:!1,rruleString:""},this.adminShiftDialogOpen(!0),console.log("[CalendarEventDialog.vue/openAdminShiftDialogAndPopulateDefaultData]: Admin shift dialog opened successfully with default data populated.")}catch(n){console.error("[CalendarEventDialog.vue/openAdminShiftDialogAndPopulateDefaultData]: Error opening admin shift dialog and populating default data:",n)}},updateShiftAfterSaveButtonClicked:function(e,t){var n=this;return Object(C["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.isRecurring&&(a={updateInstance:function(){return n.generateActionTypeObject("updateInstance",n.originalData)},updateForward:function(){var t=n.generateActionTypeObject("updateForward","");return n.updateRecurringEventStartDate(e.start),t},updateAll:function(){return n.generateActionTypeObject("updateAll","")}},e.actionType=a[t]?a[t]():n.updateSnackMessage("No actionType in updateShiftAfterSaveButtonClicked")),r.prev=1,r.next=4,n.updateEvent(e);case 4:n.updateSnackMessage("Shift updated successfully."),console.log("[CalendarEventDialog.vue/updateShiftAfterSaveButtonClicked]: Shift updated successfully:",e),r.next=12;break;case 8:r.prev=8,r.t0=r["catch"](1),console.error("[CalendarEventDialog.vue/updateShiftAfterSaveButtonClicked]: Error updating shift:",r.t0),n.updateSnackMessage("Error updating shift: ".concat(r.t0.message));case 12:return r.prev=12,n.adminShiftDialogOpen(!1),r.finish(12);case 15:case"end":return r.stop()}}),r,null,[[1,8,12,15]])})))()},createAndSaveNewShift:function(e){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.actionCreateNewEvent(e);case 3:t.updateSnackMessage("New shift created"),console.log("[CalendarEventDialog.vue/createAndSaveNewShift]: New shift created successfully."),n.next=11;break;case 7:n.prev=7,n.t0=n["catch"](0),console.error("[CalendarEventDialog.vue/createAndSaveNewShift]: Error creating new shift: ".concat(n.t0)),t.updateSnackMessage("Error creating new shift: ".concat(n.t0.message));case 11:return n.prev=11,t.newEvent=!1,t.adminShiftDialogOpen(!1),n.finish(11);case 15:case"end":return n.stop()}}),n,null,[[0,7,11,15]])})))()},removeShiftAfterDeleteButtonClicked:function(e,t){var n=this;return Object(C["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e.isRecurring||!t){r.next=17;break}if(r.prev=1,a=n.generateActionTypeObject("deleteInstance"===t?"deleteInstance":"deleteForward"===t?"deleteForward":"deleteAll"===t?"deleteAll":"","deleteInstance"===t?n.originalData:""),!a.description){r.next=7;break}e.actionType=a,r.next=10;break;case 7:return n.updateSnackMessage("No actionType in removeShiftAfterDeleteButtonClicked"),console.error("[CalendarEventDialog.vue/removeShiftAfterDeleteButtonClicked]: Invalid removeType: ".concat(t)),r.abrupt("return");case 10:r.next=17;break;case 12:return r.prev=12,r.t0=r["catch"](1),console.error("[CalendarEventDialog.vue/removeShiftAfterDeleteButtonClicked]: Error setting actionType in removeShiftAfterDeleteButtonClicked: ".concat(r.t0)),n.updateSnackMessage("Error setting actionType: ".concat(r.t0.message)),r.abrupt("return");case 17:return r.prev=17,r.next=20,n.deleteEvent(e);case 20:n.updateSnackMessage("Shift deleted."),console.log("[CalendarEventDialog.vue/removeShiftAfterDeleteButtonClicked]: Shift successfully deleted:",e),r.next=28;break;case 24:r.prev=24,r.t1=r["catch"](17),console.error("[CalendarEventDialog.vue/removeShiftAfterDeleteButtonClicked]: Error deleting shift: ".concat(r.t1)),n.updateSnackMessage("Error deleting shift: ".concat(r.t1.message));case 28:return r.prev=28,n.adminShiftDialogOpen(!1),r.finish(28);case 31:case"end":return r.stop()}}),r,null,[[1,12],[17,24,28,31]])})))()},createRRULEStringDuringShiftCreation:function(e){if(!e.isRecurring)return"";try{var t=new Date(e.start),n=t.getFullYear(),r=t.getUTCMonth(),a=t.getDate(),i=t.getHours(),o=t.getMinutes(),c=this.localBYDAY.length>0?this.localBYDAY.map((function(e){return N["a"][e.toUpperCase()]})):[this.getWeekdayAbbreviationByIndex(t.getDay())],l=new N["a"]({freq:N["a"].WEEKLY,byweekday:c,interval:parseInt(this.localINTERVAL,10)||1,dtstart:new Date(Date.UTC(n,r,a,i,o)),until:this.convertUNTILStringToDate(this.localUNTIL)||new Date(Date.now()+6048e5)});return console.log("[CalendarEventDialog.vue/createRRULEStringDuringShiftCreation]: Created RRule string: ",l.toString()),l.toString()}catch(s){return console.error("[CalendarEventDialog.vue/createRRULEStringDuringShiftCreation]: Error creating RRULE string: ".concat(s)),""}},getWeekdayAbbreviationByIndex:function(e){if("number"!==typeof e||e<0||e>=this.weekdayNames.length)return console.error("[CalendarEventDialog.vue/getWeekdayAbbreviationByIndex]: Invalid dayNum argument",e),"";try{return this.weekdayNames[e]}catch(t){return console.error("[CalendarEventDialog.vue/getWeekdayAbbreviationByIndex]: Error accessing weekdayNames with dayNum",e,t),""}},updateRecurringEventStartTime:function(e){if(this.localSelectedEvent.isRecurring)try{var t=e.replace(":","")+"00",n=this.localSelectedEvent.rruleString,r=n.indexOf("DTSTART");if(-1===r)throw new Error("DTSTART not found in RRULE string.");var a=n.indexOf("Z",r);if(-1===a)throw new Error("Zulu time indicator (Z) not found in RRULE string after DTSTART.");var i=n.substring(r+17,a);this.localSelectedEvent.rruleString=this.replaceSubstringAtIndex(n,i,t,0),console.log("[CalendarEventDialog.vue/updateRecurringEventStartTime]: Successfully updated RRULE string.")}catch(o){console.error("[CalendarEventDialog.vue/updateRecurringEventStartTime]: Error updating RRULE string: ".concat(o.message))}else console.log("[CalendarEventDialog.vue/updateRecurringEventStartTime]: The shift is not recurring. Exiting method.")},updateRecurringEventStartDate:function(e){if(this.localSelectedEvent.isRecurring)try{var t=e.slice(0,10).replaceAll("-",""),n=this.localSelectedEvent.rruleString,r=n.indexOf("DTSTART");if(-1===r)throw new Error("DTSTART not found in RRULE string.");var a=r+8,i=n.indexOf("T",a);if(-1===i)throw new Error("Time (T) not found in RRULE string after DTSTART date.");var o=n.substring(a,i);this.localSelectedEvent.rruleString=this.replaceSubstringAtIndex(n,o,t,0),console.log("[CalendarEventDialog.vue/updateRecurringEventStartDate]: Successfully updated DTSTART date in RRULE string.")}catch(c){console.error("[CalendarEventDialog.vue/updateRecurringEventStartDate]: Error updating DTSTART date in RRULE string: ".concat(c.message))}else console.log("[CalendarEventDialog.vue/updateRecurringEventStartDate]: The shift is not recurring. Exiting method.")},getINTERVALFromRRULE:function(e){if(e)try{var t=e.indexOf("INTERVAL")+9,n=e.indexOf(";",t);if(8===t||-1===n)throw new Error("INTERVAL not found or malformed in RRULE string.");return console.log("[CalendarEventDialog.vue/getINTERVALFromRRULE]: Successfully extracted INTERVAL from RRULE string."),e.substring(t,n)}catch(r){console.error("[CalendarEventDialog.vue/getINTERVALFromRRULE]: Error extracting INTERVAL number: ".concat(r.message))}else console.log("[CalendarEventDialog.vue/getINTERVALFromRRULE]: No RRULE string provided.")},updateRRULEInterval:function(e){if(this.localSelectedEvent.rruleString)try{var t=this.localSelectedEvent.rruleString,n=t.indexOf("INTERVAL");if(-1===n)throw new Error("INTERVAL part not found in RRULE string.");var r=t.indexOf(";",n),a=t.substring(n,-1!==r?r:void 0),i="INTERVAL=".concat(e);this.localINTERVAL=e,this.localSelectedEvent.rruleString=this.replaceSubstringAtIndex(t,a,i,0),console.log("[CalendarEventDialog.vue/updateRRULEInterval]: Successfully updated INTERVAL in RRULE string.")}catch(o){console.error("[CalendarEventDialog.vue/updateRRULEInterval]: Error updating INTERVAL in RRULE string: ".concat(o.message))}else console.log("[CalendarEventDialog.vue/updateRRULEInterval]: No RRULE string available in the selected event.")},getBYDAYFromRRULE:function(e){if(!e)return console.log("[CalendarEventDialog.vue/getBYDAYFromRRULE]: No RRULE string provided. Using selected weekday number."),[this.getWeekdayAbbreviationByIndex(this.selectedWeekdayNum)];try{var t=e.indexOf("BYDAY");if(-1===t)throw new Error("BYDAY part not found in RRULE string.");var n=t+6,r=e.indexOf(";",n);if(-1===r)throw new Error("Semicolon not found after BYDAY in RRULE string.");var a=e.substring(n,r).split(",");return console.log("[CalendarEventDialog.vue/getBYDAYFromRRULE]: Successfully extracted BYDAY from RRULE string."),a}catch(i){return console.error("[CalendarEventDialog.vue/getBYDAYFromRRULE]: Error extracting BYDAY from RRULE string: ".concat(i.message)),[]}},updateRRULEWeekdays:function(e){if(this.localSelectedEvent.rruleString)if(0!==e.length)try{var t=this.localSelectedEvent.rruleString.indexOf("BYDAY");if(-1===t)throw new Error("BYDAY part not found in RRULE string.");var n=this.localSelectedEvent.rruleString.indexOf(";",t),r=this.localSelectedEvent.rruleString.substring(t,-1!==n?n:void 0),a="BYDAY=".concat(e.join(","));this.localBYDAY=e,this.localSelectedEvent.rruleString=this.replaceSubstringAtIndex(this.localSelectedEvent.rruleString,r,a,0),console.log("[CalendarEventDialog.vue/updateRRULEWeekdays]: Successfully updated BYDAY in RRULE string.")}catch(i){console.error("[CalendarEventDialog.vue/updateRRULEWeekdays]: Error updating BYDAY in RRULE string: ".concat(i.message))}else console.log("[CalendarEventDialog.vue/updateRRULEWeekdays]: Empty BYDAY array provided. No update performed.");else console.log("[CalendarEventDialog.vue/updateRRULEWeekdays]: No RRULE string available in the selected event.")},getUNTILFromDateRRULE:function(e){if(!e)return console.log("[CalendarEventDialog.vue/getUNTILFromDateRRULE]: No RRULE string provided."),"";try{var t=e.indexOf("UNTIL");if(-1===t)throw new Error("UNTIL part not found in RRULE string.");var n=e.slice(-16);return console.log("[CalendarEventDialog.vue/getUNTILFromDateRRULE]: Successfully extracted UNTIL date from RRULE string."),n}catch(r){return console.error("[CalendarEventDialog.vue/getUNTILFromDateRRULE]: Error extracting UNTIL date from RRULE string: ".concat(r.message)),""}},convertUNTILStringToDate:function(e){if(!e)return console.log("[CalendarEventDialog.vue/convertUNTILStringToDate]: No UNTIL string provided."),"";try{var t=e.slice(0,4),n=e.substr(4,2),r=e.substr(6,2),a=new Date(t,n-1,r);if(isNaN(a.getTime()))throw new Error("Invalid date format.");return console.log("[CalendarEventDialog.vue/convertUNTILStringToDate]: Successfully converted UNTIL string to Date."),a}catch(i){return console.error("[CalendarEventDialog.vue/convertUNTILStringToDate]: Error converting UNTIL string to Date: ".concat(i.message)),""}},convertUNTILStringToFormattedDate:function(e,t,n){if(!e)return console.log("[CalendarEventDialog.vue/convertUNTILStringToFormattedDate]: No UNTIL string provided."),"";try{var r,a=e.slice(0,4),i=e.substr(4,2),o=e.substr(6,2);return r="mmddyyyy"===n?"".concat(i).concat(t).concat(o).concat(t).concat(a):"".concat(a).concat(t).concat(i).concat(t).concat(o),console.log("[CalendarEventDialog.vue/convertUNTILStringToFormattedDate]: Successfully converted UNTIL string to ".concat(n," format.")),r}catch(c){return console.error("[CalendarEventDialog.vue/convertUNTILStringToFormattedDate]: Error converting UNTIL string to formatted date: ".concat(c.message)),""}},updateRRULEUntilDateTime:function(e,t){if(t)try{var n=t.split("-"),r=Object(T["a"])(n,3),a=r[0],i=r[1],o=r[2];i-=1;var c="T"+e.slice(-5).replace(":","")+"00Z",l=Object(_["a"])(new Date(a,i,o),"yyyyMMdd")+c;this.localUNTIL=l,this.localSelectedEvent.rruleString=this.replaceSubstringAtIndex(this.localSelectedEvent.rruleString,this.localSelectedEvent.rruleString.slice(-16),l,0),console.log("[CalendarEventDialog.vue/updateRRULEUntilDateTime]: Successfully updated UNTIL in RRULE string.")}catch(s){console.error("[CalendarEventDialog.vue/updateRRULEUntilDateTime]: Error updating UNTIL in RRULE string: ".concat(s.message))}else console.log("[CalendarEventDialog.vue/updateRRULEUntilDateTime]: No untilDate provided.")},replaceSubstringAtIndex:function(e,t,n,r){var a=e.split(t,r+1).join(t);return a.length<e.length?a+n+e.slice(a.length+t.length):e},generateActionTypeObject:function(e,t){try{if("string"!==typeof e)throw new Error("Action description must be a string.");var n={description:e,originalData:t};return console.log("[CalendarEventDialog.vue/generateActionTypeObject]: Action type object created successfully."),n}catch(r){return console.error("[CalendarEventDialog.vue/generateActionTypeObject]: Error creating action type object: ".concat(r.message)),null}},generateReadableRRULEDescription:function(e){if(!e)return console.log("[CalendarEventDialog.vue/generateReadableRRULEDescription]: No RRULE string provided."),"";if(this.rruleDescriptionCache[e])return console.log("[CalendarEventDialog.vue/generateReadableRRULEDescription]: Returning cached description."),this.rruleDescriptionCache[e];try{var t=N["a"].fromString(e).toText();return this.rruleDescriptionCache[e]=t,console.log("[CalendarEventDialog.vue/generateReadableRRULEDescription]: RRULE description generated successfully."),t}catch(n){return console.error("[CalendarEventDialog.vue/generateReadableRRULEDescription]: Error parsing RRULE string: ".concat(n)),"Invalid RRULE string"}},formatDTSTARTDateWithSuffix:function(e){if(!e)return console.log("[CalendarEventDialog.vue/formatDTSTARTDateWithSuffix]: No RRULE string provided."),"";try{var t=N["a"].fromString(e).origOptions.dtstart,n=t.getDate(),r=function(e){var t=e%10,n=e%100;return 1==t&&11!=n?"st":2==t&&12!=n?"nd":3==t&&13!=n?"rd":"th"}(n),a=Object(_["a"])(t,"MMMM , yyyy"),i=a.replace(", ","".concat(n).concat(r,", "));return console.log("[CalendarEventDialog.vue/formatDTSTARTDateWithSuffix]: DTSTART date formatted successfully."),i}catch(o){return console.error("[CalendarEventDialog.vue/formatDTSTARTDateWithSuffix]: Error formatting DTSTART date: ".concat(o)),""}}})},tt=et,nt=(n("6211"),n("0798")),rt=n("b0af"),at=n("99d9"),it=n("ac7c"),ot=n("8fea"),ct=n("169a"),lt=n("0789"),st=n("cd55"),ut=n("49e2"),dt=n("c865"),vt=n("0393"),pt=n("4bd4"),ft=n("b974"),mt=Object(d["a"])(tt,Ue,Pe,!1,null,"78887818",null),gt=mt.exports;p()(mt,{VAlert:nt["a"],VBtn:g["a"],VCard:rt["a"],VCardActions:at["a"],VCardText:at["b"],VCheckbox:it["a"],VCol:re["a"],VDataTable:ot["a"],VDialog:ct["a"],VExpandTransition:lt["a"],VExpansionPanel:st["a"],VExpansionPanelContent:ut["a"],VExpansionPanelHeader:dt["a"],VExpansionPanels:vt["a"],VForm:pt["a"],VIcon:b["a"],VList:be["a"],VListItem:Ee["a"],VListItemTitle:Se["b"],VMenu:ye["a"],VRow:ie["a"],VSelect:ft["a"],VSpacer:y["a"],VTextField:Ye["a"],VToolbar:we["a"],VToolbarTitle:xe["a"]});var ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",{ref:"form"},[n("v-dialog",{attrs:{persistent:"","max-width":"600px"},on:{"click:outside":e.close},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[e._v(" Role Selection ")]),n("v-card-text",[n("v-select",{attrs:{items:e.roles,label:"Choose a role",outlined:""},model:{value:e.selectedRole,callback:function(t){e.selectedRole=t},expression:"selectedRole"}}),"Volunteer"!==e.selectedRole||e.isVolunteerLimitReached?"Volunteer"===e.selectedRole?n("v-alert",{attrs:{border:"top","colored-border":"",color:"error",elevation:"2"}},[e._v(" We have reached the maximum number of volunteers for this shift. Thank you for your interest! ")]):e._e():n("div",[n("h3",[e._v("General Volunteer Signup")]),n("p",[e._v("As a general volunteer, you'll have the opportunity to contribute through various tasks and activities that support our cause.")]),n("v-text-field",{attrs:{type:"text",label:"Volunteer Name",required:"",name:"volunteerName"},model:{value:e.volunteerName,callback:function(t){e.volunteerName=t},expression:"volunteerName"}}),n("v-text-field",{attrs:{type:"email",label:"Volunteer Email (Optional)",name:"volunteerEmail"},model:{value:e.volunteerEmail,callback:function(t){e.volunteerEmail=t},expression:"volunteerEmail"}})],1),"Driver / Driver Helper"!==e.selectedRole||e.isDriverHelperLimitReached?"Driver / Driver Helper"===e.selectedRole?n("v-alert",{attrs:{border:"top","colored-border":"",color:"error",elevation:"2"}},[e._v(" We have reached the maximum number of drivers/helpers for this shift. Thank you for your interest! ")]):e._e():n("div",[n("h3",[e._v("Driver / Helper Volunteer")]),n("p",[e._v("As a driver or helper, you play a crucial role in logistics and transportation, ensuring resources and people reach where they are needed most.")]),n("v-text-field",{attrs:{type:"text",label:"Driver or Driver Helper Name",required:"",name:"driverHelperName"},model:{value:e.driverHelperName,callback:function(t){e.driverHelperName=t},expression:"driverHelperName"}}),n("v-text-field",{attrs:{type:"email",label:"Driver or Driver Helper Email",required:"",name:"driverHelperEmail"},model:{value:e.driverHelperEmail,callback:function(t){e.driverHelperEmail=t},expression:"driverHelperEmail"}}),n("v-alert",{staticClass:"mt-3",attrs:{border:"top",color:"info","colored-border":"",elevation:"2"}},[e._v(" We kindly request that individuals registering as drivers or driver helpers submit a copy of their valid driver's license and proof of insurance via email. This documentation is essential for ensuring compliance and safety standards. Thank you for your cooperation and commitment. ")])],1)],1),n("v-card-actions",[n("v-btn",{attrs:{color:"grey darken-1",text:""},on:{click:e.close}},[e._v("Close")]),n("v-spacer"),n("v-btn",{attrs:{disabled:!e.canParticipate,color:"primary"},on:{click:e.updateEvent}},[e._v("Participate")])],1)],1)],1)],1)},bt=[],Et=n("f8c5"),St={name:"CalendarVolunteerDialog",mounted:function(){Et["a"].init("nQeNPSgRwskhINwUu")},props:{value:Boolean,selectedShift:{type:Object,default:function(){return{}}}},data:function(){return{dialog:this.value,selectedRole:"Volunteer",volunteerName:"",volunteerEmail:"",driverHelperName:"",driverHelperEmail:"",roles:["Volunteer","Driver / Driver Helper"]}},computed:{isVolunteerLimitReached:function(){var e;return(null===(e=this.selectedShift.volunteerNames)||void 0===e?void 0:e.length)>=this.selectedShift.volunteerLimit},isDriverHelperLimitReached:function(){var e;return(null===(e=this.selectedShift.driverHelperNames)||void 0===e?void 0:e.length)>=this.selectedShift.driverHelperLimit},canParticipate:function(){return"Volunteer"===this.selectedRole?!this.isVolunteerLimitReached:"Driver / Driver Helper"!==this.selectedRole||!this.isDriverHelperLimitReached}},watch:{value:function(e){this.dialog=e},dialog:function(e){e||this.$emit("input",e)},selectedRole:function(e,t){e!==t&&this.clearFields()}},methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["updateSnackMessage"])),{},{updateEvent:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,o,c,l,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a=e.selectedShift,i=a.isRecurring?Object(P["f"])(mn,"events",a.id):Object(P["f"])(mn,"exceptions",a.id),o="Volunteer"===e.selectedRole?e.volunteerName.toLowerCase():e.driverHelperName.toLowerCase(),c="Volunteer"===e.selectedRole?e.volunteerEmail.toLowerCase():e.driverHelperEmail.toLowerCase(),l="Volunteer"===e.selectedRole&&(null===(n=a.volunteerNames)||void 0===n?void 0:n.some((function(e){return e.name.toLowerCase()===o&&e.email.toLowerCase()===c})))||"Driver / Driver Helper"===e.selectedRole&&(null===(r=a.driverHelperNames)||void 0===r?void 0:r.some((function(e){return e.name.toLowerCase()===o&&e.email.toLowerCase()===c}))),!l){t.next=12;break}return e.updateSnackMessage("You have already registered to participate."),console.log("User already registered for this shift."),e.$emit("dialogs-completed"),e.close(),t.abrupt("return");case 12:return s={},"Volunteer"===e.selectedRole?s={volunteerNames:Object(P["c"])({name:e.volunteerName,email:e.volunteerEmail})}:"Driver / Driver Helper"===e.selectedRole&&(s={driverHelperNames:Object(P["c"])({name:e.driverHelperName,email:e.driverHelperEmail})}),t.next=16,Object(P["i"])(i,s);case 16:e.$emit("dialogs-completed"),e.close(),t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](0),console.error("Failed to update event: ",t.t0);case 23:case"end":return t.stop()}}),t,null,[[0,20]])})))()},resetDialog:function(){this.clearFields(),this.dialog=!1,this.selectedRole="Volunteer"},clearFields:function(){this.volunteerName="",this.volunteerEmail="",this.driverHelperName="",this.driverHelperEmail=""},close:function(){this.resetDialog()}})},yt=St,Dt=Object(d["a"])(yt,ht,bt,!1,null,null,null),wt=Dt.exports;p()(Dt,{VAlert:nt["a"],VBtn:g["a"],VCard:rt["a"],VCardActions:at["a"],VCardText:at["b"],VCardTitle:at["c"],VDialog:ct["a"],VForm:pt["a"],VSelect:ft["a"],VSpacer:y["a"],VTextField:Ye["a"]});var xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"","max-width":"600px"},on:{"click:outside":function(t){e.dialog=!1}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[e._v(" Organization Details ")]),n("v-card-text",[n("v-form",[n("v-text-field",{attrs:{label:"Organization Name"},model:{value:e.organizationName,callback:function(t){e.organizationName=t},expression:"organizationName"}}),n("v-text-field",{attrs:{label:"Contact Name"},model:{value:e.contactName,callback:function(t){e.contactName=t},expression:"contactName"}}),n("v-text-field",{attrs:{label:"Phone Number"},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}}),n("v-text-field",{attrs:{label:"Email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("v-text-field",{attrs:{label:"Number of People (Max: 8)",type:"number",max:8},model:{value:e.numberOfPeople,callback:function(t){e.numberOfPeople=t},expression:"numberOfPeople"}}),n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.dates,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){e.dates=t},"update:return-value":function(t){e.dates=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-combobox",e._g(e._b({attrs:{multiple:"",chips:"","small-chips":"",label:"Choose dates to volunteer","prepend-icon":"mdi-calendar",readonly:""},scopedSlots:e._u([{key:"selection",fn:function(t){var r=t.item,a=t.index;return[n("v-chip",{key:a,attrs:{close:""},on:{"click:close":function(t){return e.removeDate(a)}}},[e._v(" "+e._s(e.formatDate(r))+" ")])]}}],null,!0),model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}},"v-combobox",a,!1),r))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[n("v-date-picker",{attrs:{multiple:"","no-title":"",scrollable:""},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v("Cancel")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.dates)}}},[e._v("OK")])],1)],1)],1)],1),n("v-card-actions",[n("v-btn",{attrs:{color:"light-grey",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Close")]),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"green",text:""},on:{click:e.sendEmail}},[e._v("Send")])],1)],1)],1)},Rt=[],kt={props:["value"],data:function(){return{dialog:!1,organizationName:"",contactName:"",phoneNumber:"",email:"",numberOfPeople:"",dates:[],menu:!1}},watch:{value:function(e){this.dialog=e},dialog:function(e){this.$emit("input",e)},numberOfPeople:function(e){this.checkNumberOfPeople()}},methods:{checkNumberOfPeople:function(){parseInt(this.numberOfPeople)>8&&(this.numberOfPeople="8")},sendEmail:function(){var e=this,t={organization_name:this.organizationName,contact_name:this.contactName,phone_number:this.phoneNumber,email:this.email,number_of_people:this.numberOfPeople,days_to_volunteer:this.dates.join(", ")};Et["a"].send("service_ug33hrl","template_56p6m9o",t,"nQeNPSgRwskhINwUu").then((function(t){e.dialog=!1,console.log("SUCCESS!",t.status,t.text)}),(function(e){console.log("FAILED...",e)}))},formatDate:function(e){var t=new Date(e),n=t.getDate(),r=t.toLocaleString("en-US",{month:"long"}),a=t.getFullYear(),i=this.getDaySuffix(n);return"".concat(r," ").concat(n).concat(i,", ").concat(a)},getDaySuffix:function(e){if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},removeDate:function(e){this.dates.splice(e,1)}}},Tt=kt,Ot=n("2b5d"),Ct=Object(d["a"])(Tt,xt,Rt,!1,null,null,null),Nt=Ct.exports;p()(Ct,{VBtn:g["a"],VCard:rt["a"],VCardActions:at["a"],VCardText:at["b"],VCardTitle:at["c"],VChip:he["a"],VCombobox:Ot["a"],VDatePicker:Je["a"],VDialog:ct["a"],VForm:pt["a"],VMenu:ye["a"],VSpacer:y["a"],VTextField:Ye["a"]});var _t={name:"Calendar",components:{CalendarDay:le,CalendarToolBar:ke,CalendarSideBar:Ve,CalendarEventDialog:gt,CalendarVolunteerDialog:wt,OrganizationDialog:Nt},data:function(){return{menu:!1,focus:"",type:"month",selectedShift:{},originalData:{},selectedWeekdayNum:0,dateForNewShift:{},shifts:[],isBusy:!1,showVolunteerDialog:!1,showOrganizationDialog:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])("storeCalendar",["eventOpen","getCurrentEvent","getInstances","getExceptions","getSelectedParticipant"])),{},{isLoggedIn:function(){return!!this.$store.state.user}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["b"])(["updateSnackMessage"])),Object(c["b"])("storeCalendar",["initInstances","adminShiftDialogOpen"])),{},{viewToday:function(){this.focus=""},fetchUpdatedShifts:function(){this.loadAndUpdateShifts()},handleClickEvent:function(e){this.isLoggedIn?this.handleShiftSelection(e):this.openVolunteerDialog(e)},prepareAndOpenShiftCreationDialog:function(e){var t=this;try{if("undefined"===typeof e.weekday)throw new Error("[Calendar.vue/prepareAndOpenShiftCreationDialog]: Invalid day object: missing weekday");this.selectedWeekdayNum=e.weekday,this.selectedShift={},this.originalData={},this.dateForNewShift=e,this.$store.dispatch("storeCalendar/adminShiftDialogOpen",!0).then((function(){})).catch((function(e){console.error("[Calendar.vue/prepareAndOpenShiftCreationDialog]: Failed to open dialog: ",e),t.selectedWeekdayNum=0,t.selectedShift={},t.originalData={},t.dateForNewShift={},t.updateSnackMessage("Error: ".concat(e.message))}))}catch(n){console.error("[Calendar.vue/prepareAndOpenShiftCreationDialog]: Failed to create event: ",n),this.selectedWeekdayNum=0,this.selectedShift={},this.originalData={},this.dateForNewShift={},this.updateSnackMessage("Error: ".concat(n.message))}},handleShiftSelection:function(e){var t=e.nativeEvent,n=e.event,r=e.eventParsed;this.selectedWeekdayNum=r.start.weekday,this.selectedShift=this.getCurrentEvent(n),this.originalData=Object(o["a"])({},this.selectedShift),this.dateForNewShift={},t.stopPropagation(),this.adminShiftDialogOpen(!0)},loadAndUpdateShifts:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isBusy=!0,t.prev=1,t.next=4,e.initInstances({focus:e.focus,name:e.getSelectedParticipant.name,type:e.getSelectedParticipant.type});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),e.updateSnackMessage("Error loading ".concat(t.t0," "));case 9:return t.prev=9,e.isBusy=!1,e.shifts=e.getInstances(e.focus,e.getSelectedParticipant.name,e.getSelectedParticipant.type),e.dateForNewShift={},e.selectedShift={},t.finish(9);case 15:case"end":return t.stop()}}),t,null,[[1,6,9,15]])})))()},updateCalendarViewType:function(e){this.type=e},openVolunteerDialog:function(e){this.selectedShift=e.event,this.showVolunteerDialog=!0}})},Lt=_t,It=(n("d87a"),n("a4f6")),At=Object(d["a"])(Lt,J,K,!1,null,"5660d224",null),jt=At.exports;p()(At,{VAlert:nt["a"],VBtn:g["a"],VCalendar:It["a"],VCol:re["a"],VContainer:h["a"],VRow:ie["a"]});var Vt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-snackbar",{attrs:{timeout:e.timeout},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.show=!1}}},"v-btn",r,!1),[e._v(" Close ")])]}}]),model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("span",{staticClass:"text-center"},[e._v(e._s(e.message))])])],1)},Ut=[],Pt={name:"Snackbar",data:function(){return{show:!1,message:"",timeout:1e4}},created:function(){var e=this;this.$store.watch((function(e){return e.snackMessage}),(function(){e.$store.state.snackMessage&&(e.show=!0,e.message=e.$store.state.snackMessage,e.$store.state.snackMessage="")}))}},Mt=Pt,Ft=n("2db4"),Ht=Object(d["a"])(Mt,Vt,Ut,!1,null,null,null),Bt=Ht.exports;p()(Ht,{VBtn:g["a"],VSnackbar:Ft["a"]});var Yt={name:"Home",components:{Calendar:jt,Snackbar:Bt}},$t=Yt,Wt=(n("cccb"),Object(d["a"])($t,X,Z,!1,null,null,null)),Gt=Wt.exports,zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"12",sm:"8",md:"6"}},[n("v-card",{staticClass:"pa-5",attrs:{elevation:"2"}},[n("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.register.apply(null,arguments)}}},[n("v-text-field",{attrs:{label:"Email",rules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],type:"email",placeholder:"Enter your email","error-messages":e.errorMsg.email},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("v-text-field",{attrs:{label:"Password",rules:[function(e){return!!e||"Password is required"},function(e){return e.length>=6||"Minimum 6 characters"}],type:"password",placeholder:"Enter your password",counter:"","error-messages":e.errorMsg.password},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("v-btn",{attrs:{loading:e.loading,type:"submit",color:"primary",block:"",large:""}},[e._v("Submit")])],1)],1)],1)],1)],1)},qt=[],Xt=function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Object(l["b"])(),e.next=3,Object(l["a"])(r,t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Zt=function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Object(l["b"])(),e.next=3,Object(l["d"])(r,t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Jt={register:Xt,login:Zt},Kt={data:function(){return{email:"",password:"",errorMsg:{},loading:!1}},methods:{register:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,e.errorMsg={},t.prev=2,t.next=5,Jt.register(e.email,e.password);case 5:e.$router.push("/"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),e.handleError(t.t0);case 11:return t.prev=11,e.loading=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[2,8,11,14]])})))()},handleError:function(e){var t=e.message||"An error occurred during registration";if(e.code)switch(e.code){case"auth/email-already-in-use":this.errorMsg.email="This email is already in use";break;case"auth/invalid-email":this.errorMsg.email="Invalid Email";break;case"auth/weak-password":this.errorMsg.password="Password should be at least 6 characters";break;default:this.$emit("error",t);break}else this.$emit("error",t)}}},Qt=Kt,en=Object(d["a"])(Qt,zt,qt,!1,null,null,null),tn=en.exports;p()(en,{VBtn:g["a"],VCard:rt["a"],VCol:re["a"],VContainer:h["a"],VForm:pt["a"],VRow:ie["a"],VTextField:Ye["a"]});var nn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"12",sm:"8",md:"6"}},[n("v-card",{staticClass:"pa-5",attrs:{elevation:"2"}},[n("v-form",{on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[n("v-text-field",{attrs:{label:"Email",rules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],type:"email",placeholder:"Enter your email","error-messages":e.errorMsg.email},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("v-text-field",{attrs:{label:"Password",rules:[function(e){return!!e||"Password is required"}],type:"password",placeholder:"Enter your password","error-messages":e.errorMsg.password},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("v-btn",{attrs:{loading:e.loading,type:"submit",color:"primary",block:"",large:""}},[e._v("Login")])],1)],1)],1)],1)],1)},rn=[],an={data:function(){return{email:"",password:"",errorMsg:{email:"",password:""},loading:!1}},methods:{login:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,e.errorMsg={email:"",password:""},t.prev=2,t.next=5,Jt.login(e.email,e.password);case 5:e.$router.push("/"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),e.handleError(t.t0);case 11:return t.prev=11,e.loading=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[2,8,11,14]])})))()},handleError:function(e){switch(e.code){case"auth/invalid-email":this.errorMsg.email="Invalid Email";break;case"auth/user-not-found":case"auth/wrong-password":this.errorMsg.password="Incorrect email or password";break;default:this.errorMsg.email="An error occurred. Please try again";break}}}},on=an,cn=Object(d["a"])(on,nn,rn,!1,null,null,null),ln=cn.exports;p()(cn,{VBtn:g["a"],VCard:rt["a"],VCol:re["a"],VContainer:h["a"],VForm:pt["a"],VRow:ie["a"],VTextField:Ye["a"]}),r["a"].use(q["a"]);var sn=new q["a"]({mode:"history",base:"/",routes:[{path:"/",component:Gt},{path:"/register",component:tn},{path:"/login",component:ln}]}),un=function(){return new Promise((function(e,t){var n=Object(l["b"])(),r=Object(l["c"])(n,(function(n){r(),n?e(n):t("No user logged in")}),(function(e){r(),t(e)}))}))};sn.beforeEach(function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,un().then((function(){return!0})).catch((function(){return!1}));case 2:a=e.sent,t.matched.some((function(e){return e.meta.requiresAuth}))?a?r():r("/login"):"/login"!==t.path&&"/register"!==t.path||!a?r():r("/");case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}());var dn=sn,vn=n("bc7b"),pn=(n("5363"),{apiKey:"AIzaSyA2kcGZUxb1excFSOplW1iQaUTPXVepFoI",authDomain:"volunteer-portal-hstl-3ef78.firebaseapp.com",projectId:"volunteer-portal-hstl-3ef78",storageBucket:"volunteer-portal-hstl-3ef78.appspot.com",messagingSenderId:"46168409713",appId:"1:46168409713:web:54fa4a0ff632f7b7f1bdd0"});Object(vn["a"])(pn);var fn,mn=Object(P["h"])();r["a"].prototype.$Timestamp=P["a"],r["a"].config.productionTip=!1,Object(l["b"])().onAuthStateChanged((function(e){z.dispatch("setUser",e),fn||(fn=new r["a"]({vuetify:R,store:z,router:dn,render:function(t){return t(w,{props:{isLoggedIn:!!e}})}}).$mount("#app"))}))},"5c0b":function(e,t,n){"use strict";var r=n("9c0c"),a=n.n(r);a.a},"5ced":function(e,t,n){},6211:function(e,t,n){"use strict";var r=n("28772"),a=n.n(r);a.a},"6ca2":function(e,t,n){"use strict";var r=n("74f1"),a=n.n(r);a.a},"74f1":function(e,t,n){},"9c0c":function(e,t,n){},cccb:function(e,t,n){"use strict";var r=n("5ced"),a=n.n(r);a.a},d87a:function(e,t,n){"use strict";var r=n("f476"),a=n.n(r);a.a},dbda:function(e,t,n){"use strict";var r=n("f1e2"),a=n.n(r);a.a},f1e2:function(e,t,n){},f476:function(e,t,n){}});
//# sourceMappingURL=app.91b89a89.js.map