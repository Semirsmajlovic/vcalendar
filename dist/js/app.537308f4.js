(function(e){function t(t){for(var r,o,c=t[0],s=t[1],l=t[2],u=0,v=[];u<c.length;u++)o=c[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&v.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);d&&d(t);while(v.length)v.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var s=n[o];0!==a[s]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},i=[];function o(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-2d216214":"49bf1fba","chunk-6303dde1":"83918429"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=o(e);var l=new Error;i=function(t){s.onerror=s.onload=null,clearTimeout(u);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",l.name="ChunkLoadError",l.type=r,l.request=i,n[1](l)}a[e]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0678":function(e,t,n){"use strict";var r=n("2b83"),a=n.n(r);a.a},"10d4":function(e,t,n){"use strict";var r=n("9065"),a=n.n(r);a.a},"10f6":function(e,t,n){},"22d3":function(e,t,n){},"2b83":function(e,t,n){},"4c46":function(e,t,n){"use strict";var r=n("22d3"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t),n.d(t,"db",(function(){return En}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"myApp"}},[n("v-app-bar",{attrs:{color:"primary",app:"",flat:"",dark:""}},[n("div",{staticClass:"d-flex align-left clickable-area",on:{click:e.navigateHome}},[n("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Vuetify Logo",contain:"",src:"https://i.ibb.co/ynd8rhz/hstl.png",transition:"scale-transition",width:"40"}}),n("span",{staticClass:"font-weight-bold logo"},[e._v("Volunteer Calendar")])],1),n("v-spacer"),e.isLoggedIn?e._e():n("v-btn",{staticClass:"ma-2 white--text",attrs:{color:"success"},on:{click:function(t){return e.$router.push("/login")}}},[n("v-icon",{attrs:{left:"",dark:""}},[e._v("mdi-login")]),e._v(" Login ")],1),e.isLoggedIn?n("v-btn",{staticClass:"ma-2 white--text",attrs:{color:"error"},on:{click:e.deleteCollections}},[n("v-icon",{attrs:{left:"",dark:""}},[e._v("mdi-delete")]),e._v(" Delete DB ")],1):e._e(),e.isLoggedIn?n("v-btn",{staticClass:"ma-2 white--text",attrs:{color:"red"},on:{click:e.handleSignOut}},[n("v-icon",{attrs:{left:"",dark:""}},[e._v("mdi-logout")]),e._v(" Sign Out ")],1):e._e()],1),n("v-main",[n("v-container",{attrs:{id:"main-container",fluid:""}},[n("router-view")],1)],1)],1)},i=[],o=(n("99af"),n("b0c0"),n("5530")),c=n("2f62"),s=n("be8c"),l={name:"App",data:function(){return{isLoggedIn:!1}},mounted:function(){var e=this,t=Object(s["b"])();Object(s["c"])(t,(function(t){e.isLoggedIn=!!t,t?console.log("User is signed in with UID: ".concat(t.uid," and Email: ").concat(t.email)):console.log("User is signed out")}))},methods:Object(o["a"])(Object(o["a"])({},Object(c["d"])(["drawerChange"])),{},{deleteCollections:function(){this.$store.dispatch("deleteCollectionsAndRefresh").then((function(){window.location.reload()})).catch((function(e){console.error("Failed to delete collections:",e)}))},changeDrawer:function(){this.drawerChange()},handleSignOut:function(){var e=this,t=Object(s["b"])();Object(s["e"])(t).then((function(){console.log("Sign-out successful."),e.isLoggedIn=!1,"/"!==e.$router.currentRoute.path&&e.$router.push("/")})).catch((function(e){console.error("Sign-out error:",e)}))},navigateHome:function(){"/"!==this.$router.currentRoute.path&&this.$router.push("/").catch((function(e){"NavigationDuplicated"!==e.name&&console.error(e)}))}})},u=l,d=(n("5c0b"),n("2877")),v=n("6544"),p=n.n(v),f=n("7496"),m=n("40dc"),h=n("8336"),g=n("a523"),b=n("132d"),E=n("adda"),S=n("f6c4"),y=n("2fa4"),w=Object(d["a"])(u,a,i,!1,null,null,null),D=w.exports;p()(w,{VApp:f["a"],VAppBar:m["a"],VBtn:h["a"],VContainer:g["a"],VIcon:b["a"],VImg:E["a"],VMain:S["a"],VSpacer:y["a"]});var x=n("f309");r["a"].use(x["a"]);var R=new x["a"]({icons:{iconfont:"mdi"}}),k=(n("4160"),n("d3b7"),n("3ca3"),n("159b"),n("ddb0"),n("96cf"),n("1da1")),O=(n("a4d3"),n("e01a"),n("4de4"),n("7db0"),n("c740"),n("caad"),n("d81d"),n("a434"),n("ac1f"),n("6062"),n("2532"),n("5319"),n("1276"),n("2909")),T=n("3835"),C=n("b85c"),N=(n("5db7"),n("fb6a"),n("45fc"),n("73d9"),n("841c"),n("55b4")),_=n("b166"),j=n("f7f1"),I=n("e3ee"),L=n("8cac"),A=n("8c6f"),V=n("2186"),U=n("1315"),P=n("1494");function H(e){return("0"+e).slice(-2)}function M(e){return e&&""!==e?e.substr(0,7):"".concat((new Date).getFullYear(),"-").concat(H((new Date).getMonth()+1))}function F(e,t,n){try{var r=M(t);console.warn("[getNamesInView/focusedMonth]: ",r);var a=e.filter((function(e){return e.start.includes(r)}));console.warn("[getNamesInView/filteredEvents]: ",a);var i=a.flatMap((function(e){return Array.isArray(e[n])?(console.warn("[getNamesInView/event]: ",e[n]),e[n].map((function(e){return e.name}))):[]}));console.log("[getNamesInView}: ",i);var o=i.sort((function(e,t){return e.split(" ")[1].localeCompare(t.split(" ")[1])}));console.log("[getNamesInView}: ",o);var c=Object(O["a"])(new Set(o));return console.log("[getNamesInView}: ",c),c}catch(s){throw console.error("Error in getNamesInView: ".concat(s)),s}}function B(e,t){var n=Object(o["a"])({},e),r=e.rruleString.substr(e.rruleString.search("UNTIL=")+6,8),a=t.substr(0,10).split("-"),i=Object(T["a"])(a,3),c=i[0],s=i[1],l=i[2],u=Object(_["a"])(Object(j["a"])(new Date(c,s-1,l),-1),"yyyyMMdd");return n.rruleString=n.rruleString.replace(r,u),n}function $(e,t,n,r,a){var i=[];e.map((function(e){i=[].concat(Object(O["a"])(i),Object(O["a"])(Y(e,e.rruleString,M(n))))}));var o=i.length-1;while(o>=0){var c=t.some((function(e){return e.eventRefId===i[o].id&&e.actionType.originalData.start===i[o].start}));c&&i.splice(o,1),o-=1}var s=t.filter((function(e){if(!e.actionType||"deleteInstance"!==e.actionType.description)return e}));return i=[].concat(Object(O["a"])(i),Object(O["a"])(s)),i}function Y(e,t,n){var r=[],a=Object(I["a"])(n).getFullYear(),i=new Date(n).getUTCMonth(),c=(e.start.substr(8,2),new Date(a,i,1)),s=new Date(c.valueOf()-60*c.getTimezoneOffset()*1e3),l=Object(L["a"])(new Date(a,i)),u=new Date(l.valueOf()-60*l.getTimezoneOffset()*1e3),d=e.start.slice(0,10),v=e.end.slice(0,10),p=e.end.slice(11),f="",m=d!==v;m&&(f=Math.abs(Object(A["a"])(Object(I["a"])(e.start),Object(I["a"])(e.end))));var h,g=Object(N["c"])(t).between(s,u).map((function(e){return Object(_["a"])(U["DateTime"].fromJSDate(e).toUTC().setZone("local",{keepLocalTime:!0}).toJSDate(),"yyyy-MM-dd HH:mm")})),b=Object(C["a"])(g);try{for(b.s();!(h=b.n()).done;){var E=h.value,S=E.slice(0,10),y=m?Object(_["a"])(Object(V["a"])(Object(I["a"])(E),f),"yyyy-MM-dd HH:mm"):S+" "+p,w=Object(o["a"])({},e);w.start=E,w.end=y,r.push(w)}}catch(D){b.e(D)}finally{b.f()}return r}var W={namespaced:!0,state:{eventOpen:!1,emitRefreshAndResetNewEventState:!1,volunteerNames:[],driverHelperNames:[],selectedParticipant:{},instances:[]},actions:{initInstances:function(e,t){return Object(k["a"])(regeneratorRuntime.mark((function n(){var r,a,i,c,s,l,u,d,v,p,f,m,h;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,n.prev=1,i=Object(P["d"])(En,"events"),n.next=5,Object(P["g"])(i);case 5:return c=n.sent,s=c.docs.map((function(e){var t=e.data();return t.rruleString&&(t.rruleString=t.rruleString.replace(/\\n/g,"\n")),Object(o["a"])({id:e.id},t)})),l=Object(P["d"])(En,"exceptions"),n.next=10,Object(P["g"])(l);case 10:u=n.sent,d=u.docs.map((function(e){return Object(o["a"])({id:e.id},e.data())})),r("SET_INIT_RECURRING_SHIFTS",s),r("SET_INIT_EXCEPTIONS",d),v=$(s,d,M(t.focus),"",""),p=F(v,t.focus,"volunteerNames"),console.warn("[storeCalendar.js/cgNames]: ",p),f=F(v,t.focus,"driverHelperNames"),console.warn("[storeCalendar.js/clNames]: ",f),r("SET_NAMES",[p,f]),m=t.name,h=t.type,(m||h)&&(v=v.filter((function(e){var t=!1;if(e[h]&&Array.isArray(e[h])){var n,r=Object(C["a"])(e[h]);try{for(r.s();!(n=r.n()).done;){var a=n.value;a.name==m&&(t=!0)}}catch(i){r.e(i)}finally{r.f()}}return t}))),r("SET_INIT_INSTANCES",v),n.next=28;break;case 25:n.prev=25,n.t0=n["catch"](1),a("updateSnackMessage","Error at ".concat(n.t0),{root:!0});case 28:case"end":return n.stop()}}),n,null,[[1,25]])})))()},actionCreateNewEvent:function(e,t){return Object(k["a"])(regeneratorRuntime.mark((function n(){var r,a,i,o,c,s,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,i="[storeCalendar.js/actionCreateNewEvent]:",n.prev=2,o=t.isRecurring?"events":"exceptions",console.log("".concat(i," Processing new event for collection: ").concat(o)),c=Object(P["d"])(En,o),n.next=8,Object(P["b"])(c,t);case 8:s=n.sent,t.id=s.id,l=t.isRecurring?"ADD_SHIFT":"ADD_EXCEPTION",console.log("".concat(i," Committing mutation: ").concat(l)),r(l,t),n.next=19;break;case 15:n.prev=15,n.t0=n["catch"](2),console.error("".concat(i," Error adding document: ").concat(n.t0)),a("updateSnackMessage","Error: ".concat(n.t0.message),{root:!0});case 19:case"end":return n.stop()}}),n,null,[[2,15]])})))()},updateEvent:function(e,t){return Object(k["a"])(regeneratorRuntime.mark((function n(){var r,a,i,c,s,l,u,d,v,p,f,m;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.commit,a=e.state,i=e.getters,c=e.dispatch,s="[storeCalendar.js/updateEvent]",l=function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=i.getIndexException(t),-1===n){e.next=7;break}return a=Object(P["f"])(En,"exceptions",t.id),e.next=5,Object(P["i"])(a,t);case 5:r("UPDATE_EXCEPTION",{exceptionIndex:n,payload:t}),console.log("".concat(s," Updated one-time event."));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=i.getIndexExceptionDiverged(t),-1===n){e.next=7;break}return a=Object(P["f"])(En,"exceptions",t.id),e.next=5,Object(P["i"])(a,t);case 5:r("UPDATE_EXCEPTION",{divergedIndex:n,payload:t}),console.log("".concat(s," Updated recurring event to one-time event."));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=i.getIndexEvent(t),-1===n){e.next=7;break}return a=Object(P["f"])(En,"events",t.id),e.next=5,Object(P["i"])(a,t);case 5:r("UPDATE_SHIFT",{index:n,updatedShift:Object(o["a"])({},t)}),console.log("".concat(s," Updated all instances of a recurring event."));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(t){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.actionType.description="updateInstance",t.isRecurring=!1,t.rruleString="",n=Object(P["d"])(En,"exceptions"),e.next=6,Object(P["b"])(n,t);case 6:return a=e.sent,t.eventRefId=t.id,t.id=a.id,i=Object(P["f"])(En,"exceptions",a.id),e.next=12,Object(P["i"])(i,t);case 12:r("ADD_EXCEPTION",t),console.log("".concat(s," Updated a single instance of a recurring event."));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(t){var n,c,l,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=i.getIndexEvent(t),-1===n){e.next=13;break}return c=B(Object(o["a"])({},a.events[n]),t.start),l=Object(P["f"])(En,"events",a.events[n].id),e.next=6,Object(P["i"])(l,c);case 6:return r("UPDATE_SHIFT",{index:n,updatedShift:c}),u=Object(o["a"])(Object(o["a"])({},t),{},{id:void 0}),e.next=10,Object(P["b"])(Object(P["d"])(En,"events"),u);case 10:d=e.sent,r("ADD_SHIFT",Object(o["a"])(Object(o["a"])({},u),{},{id:d.id})),console.log("".concat(s," Updated recurring event going forward."));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.actionType){e.next=5;break}return e.next=3,l(t);case 3:e.next=7;break;case 5:return e.next=7,u(t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=t.actionType.description,e.next="updateAll"===e.t0?3:"updateInstance"===e.t0?6:"updateForward"===e.t0?9:12;break;case 3:return e.next=5,d(t);case 5:return e.abrupt("break",14);case 6:return e.next=8,v(t);case 8:return e.abrupt("break",14);case 9:return e.next=11,p(t);case 11:return e.abrupt("break",14);case 12:console.warn("".concat(s," Unknown actionType: ").concat(t.actionType.description)),c("updateSnackMessage","Unknown actionType in updateEvent",{root:!0});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.prev=9,t.isRecurring){n.next=15;break}return n.next=13,f(t);case 13:n.next=17;break;case 15:return n.next=17,m(t);case 17:n.next=23;break;case 19:n.prev=19,n.t0=n["catch"](9),console.error("".concat(s," Error updating event: ").concat(n.t0)),c("updateSnackMessage","Error: ".concat(n.t0.message),{root:!0});case 23:case"end":return n.stop()}}),n,null,[[9,19]])})))()},deleteEvent:function(e,t){return Object(k["a"])(regeneratorRuntime.mark((function n(){var r,a,i,c,s,l,u,d,v,p;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.commit,a=e.state,i=e.getters,c=e.dispatch,s="[storeCalendar.js/deleteEvent]",l=function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=i.getIndexException(t),-1===n){e.next=6;break}return e.next=4,Object(P["e"])(Object(P["f"])(En,"exceptions",a.exceptions[n].id));case 4:r("DELETE_EXCEPTION",n),console.log("".concat(s," Deleted one-time event."));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=i.getIndexExceptionDiverged(t),-1===n){e.next=8;break}return t.actionType.description="deleteInstance",o=Object(P["f"])(En,"exceptions",a.exceptions[n].id),e.next=6,Object(P["i"])(o,t);case 6:r("UPDATE_EXCEPTION",{index:n,payload:t}),console.log("".concat(s," Updated exception for a diverged instance."));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(t){var n,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=a.events.filter((function(e){return e.id===t.id})),i=Object(C["a"])(n),e.prev=2,i.s();case 4:if((o=i.n()).done){e.next=10;break}return c=o.value,e.next=8,Object(P["e"])(Object(P["f"])(En,"events",c.id));case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](2),i.e(e.t0);case 15:return e.prev=15,i.f(),e.finish(15);case 18:r("DELETE_EVENTS_MULTIPLE",n),console.log("".concat(s," Deleted all instances of a recurring event."));case 20:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(t){var n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=i.getIndexEvent(t),-1===n){e.next=7;break}return c=B(Object(o["a"])({},a.events[n]),t.start),e.next=5,Object(P["i"])(Object(P["f"])(En,"events",a.events[n].id),c);case 5:r("UPDATE_SHIFT",{index:n,updatedShift:c}),console.log("".concat(s," Updated recurring event going forward."));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(P["b"])(Object(P["d"])(En,"exceptions"),t);case 2:return n=e.sent,t.eventRefId=t.id,t.id=n.id,t.actionType.description="deleteInstance",a=Object(P["f"])(En,"exceptions",n.id),e.next=9,Object(P["i"])(a,t);case 9:r("ADD_EXCEPTION",t),console.log("".concat(s," Added exception for deleting a single instance."));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.prev=7,t.isRecurring){n.next=18;break}if(t.actionType){n.next=14;break}return n.next=12,l(t);case 12:n.next=16;break;case 14:return n.next=16,u(t);case 16:n.next=32;break;case 18:n.t0=t.actionType.description,n.next="deleteAll"===n.t0?21:"deleteForward"===n.t0?24:"deleteInstance"===n.t0?27:30;break;case 21:return n.next=23,d(t);case 23:return n.abrupt("break",32);case 24:return n.next=26,v(t);case 26:return n.abrupt("break",32);case 27:return n.next=29,p(t);case 29:return n.abrupt("break",32);case 30:console.warn("".concat(s," Unknown actionType for recurring shift.")),c("updateSnackMessage","Unknown actionType for recurring shift",{root:!0});case 32:n.next=38;break;case 34:n.prev=34,n.t1=n["catch"](7),console.error("".concat(s," Error processing event: ").concat(n.t1)),c("updateSnackMessage","Operation failed: ".concat(n.t1.message),{root:!0});case 38:case"end":return n.stop()}}),n,null,[[7,34]])})))()},updateSelectedParticipant:function(e,t){var n=e.commit,r="[storeCalendar.js/updateSelectedParticipant]:";try{console.log(t),n("SET_PARTICIPANT",t),console.log("".concat(r," Participant updated successfully."),t)}catch(a){console.error("".concat(r," Error updating participant:"),a)}},adminShiftDialogOpen:function(e,t){var n=e.commit,r="[storeCalendar.js/adminShiftDialogOpen]:";try{n("SET_DIALOG",t),console.log("".concat(r," Dialog status updated successfully. Status:"),t)}catch(a){console.error("".concat(r," Error updating dialog status:"),a)}}},mutations:{SET_INIT_INSTANCES:function(e,t){e.instances=t},SET_INIT_RECURRING_SHIFTS:function(e,t){e.events=t},SET_INIT_EXCEPTIONS:function(e,t){e.exceptions=t},SET_PARTICIPANT:function(e,t){e.selectedParticipant=t},SET_NEW_EVENT_SIGNAL:function(e,t){e.emitRefreshAndResetNewEventState=t},SET_NAMES:function(e,t){var n=Array.isArray(t)?t:[[],[]],r=Object(T["a"])(n,2),a=r[0],i=void 0===a?[]:a,o=r[1],c=void 0===o?[]:o;e.volunteerNames=i,e.driverHelperNames=c},SET_DIALOG:function(e,t){e.eventOpen=t},ADD_SHIFT:function(e,t){e.events.push(t),e.emitRefreshAndResetNewEventState=!0},UPDATE_SHIFT:function(e,t){var n=t.index,r=t.updatedShift;e.events.splice(n,1,r),e.emitRefreshAndResetNewEventState=!0},DELETE_EVENTS_MULTIPLE:function(e,t){e.events=e.events.filter((function(e){return!t.includes(e)})),e.emitRefreshAndResetNewEventState=!0},ADD_EXCEPTION:function(e,t){e.exceptions.push(t),e.emitRefreshAndResetNewEventState=!0},UPDATE_EXCEPTION:function(e,t){var n=t.index,r=t.payload;e.exceptions.splice(n,1,r),e.emitRefreshAndResetNewEventState=!0},DELETE_EXCEPTION:function(e,t){e.exceptions.splice(t,1),e.emitRefreshAndResetNewEventState=!0}},getters:{getInstances:function(e){return function(t,n,r){return e.instances}},getExceptions:function(e){return function(t,n,r){return e.exceptions}},eventOpen:function(e){return e.eventOpen},emitRefreshAndResetNewEventState:function(e){return e.emitRefreshAndResetNewEventState},getNamesVolunteers:function(e){return e.volunteerNames},getNamesDriverHelpers:function(e){return e.driverHelperNames},getSelectedParticipant:function(e){return e.selectedParticipant},getCurrentEvent:function(e){return function(t){return e.instances.find((function(e){return e.id===t.id&&e.start===t.start}))}},getIndexEvent:function(e){return function(t){return e.events.findIndex((function(e){return e.id===t.id}))}},getIndexException:function(e){return function(t){return e.exceptions.findIndex((function(e){return e.id===t.id}))}},getIndexExceptionDiverged:function(e){return function(t){return e.exceptions.findIndex((function(e){return e.id===t.id&&e.actionType.originalData.start===t.start}))}},getNames:function(e,t){return function(e,n){return Object(O["a"])(new Set(t.getInstances(e,"","").filter((function(t){return t.start.includes(M(e))})).map((function(e){return e[n]})).sort((function(e,t){return e.split(" ")[1].localeCompare(t.split(" ")[1])}))))}}}},z=W;r["a"].use(c["a"]);var q=new c["a"].Store({state:{snackOpen:!1,snackMessage:"",drawer:null,user:null},modules:{storeCalendar:z},actions:{updateSnackMessage:function(e,t){var n=e.commit;e.state;n("SET_SNACK_MESSAGE",t)},setUser:function(e,t){var n=e.commit;n("SET_USER",t)},deleteCollectionsAndRefresh:function(e){return Object(k["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(P["g"])(Object(P["d"])(En,t));case 2:n=e.sent,n.forEach(function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(P["e"])(t.ref);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=3,Promise.all([t("events"),t("exceptions")]);case 3:case"end":return e.stop()}}),e)})))()}},mutations:{SET_SNACK_MESSAGE:function(e,t){e.snackMessage=t},SET_USER:function(e,t){e.user=t},drawerChange:function(e){e.drawer=!e.drawer}},getters:{snackOpen:function(e){return e.snackOpen},drawerStatus:function(e){return e.drawer}}}),G=n("8c4f"),X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"uniqueContainerId123"}},[n("Calendar"),n("Snackbar")],1)},Z=[],J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{id:"dynamicContentArea456",fluid:""}},[e.isLoggedIn?e._e():n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"12",sm:"8",md:"6",lg:"6"}},[n("v-alert",{attrs:{text:"",dense:"",color:"info",border:"top"}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{staticClass:"grow"},[e._v(" For organizations interested in volunteering, please register your participation by clicking the button to join our efforts in making a difference. ")]),n("v-col",{staticClass:"shrink"},[n("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.showOrganizationDialog=!0}}},[e._v("Participate")])],1)],1)],1),n("organization-dialog",{attrs:{value:e.showOrganizationDialog},on:{input:function(t){e.showOrganizationDialog=t}}})],1)],1),n("v-row",{staticClass:"fill-height"},[n("v-col",[n("calendar-tool-bar",{attrs:{reference:this.$refs.calendar,focus:e.focus,shifts:e.shifts,propType:e.type},on:{todayButtonClick:e.viewToday,typeDay:function(t){return e.updateCalendarViewType("day")},typeWeek:function(t){return e.updateCalendarViewType("week")},typeMonth:function(t){return e.updateCalendarViewType("month")},type4day:function(t){return e.updateCalendarViewType("4day")}}}),n("v-row",[n("v-col",{attrs:{cols:e.isLoggedIn?"12":"10",lg:e.isLoggedIn?"10":"12",id:"calendarContent"}},[n("v-overlay",{attrs:{value:e.isBusy,opacity:.6,color:"white"}},[n("v-progress-circular",{attrs:{indeterminate:"",color:"blue",size:"128"}})],1),n("div",{staticClass:"printInformationArea"}),n("v-calendar",{ref:"calendar",attrs:{type:e.type,events:e.shifts,"event-color":"#f1f3f4","event-text-color":"#333","event-margin-bottom":5,"event-height":155,"events-more":!1,"show-week":!1},on:{"click:event":e.handleClickEvent,"click:date":function(t){!e.isDateBeforeToday(t)&&e.isLoggedIn&&e.prepareAndOpenShiftCreationDialog(t)},"click:day":function(t){!e.isDateBeforeToday(t)&&e.isLoggedIn&&e.prepareAndOpenShiftCreationDialog(t)},change:e.loadAndUpdateShifts},scopedSlots:e._u([{key:"event",fn:function(t){var r=t.event;return[n("calendar-day",{attrs:{event:r,"is-logged-in":e.isLoggedIn}})]}}]),model:{value:e.focus,callback:function(t){e.focus=t},expression:"focus"}})],1),e.isLoggedIn?n("v-col",{attrs:{cols:"12",lg:"2"}},[n("calendar-side-bar",{attrs:{focus:e.focus},on:{selectedParticipant:function(t){return e.loadAndUpdateShifts()}}})],1):e._e()],1)],1)],1),n("calendar-event-dialog",{attrs:{dateForNewShift:e.dateForNewShift,updateLocalStateOnShiftSelectionChange:e.selectedShift,selectedWeekdayNum:e.selectedWeekdayNum,originalData:e.originalData},on:{refresh:function(t){return e.loadAndUpdateShifts()}}}),n("calendar-volunteer-dialog",{attrs:{selectedShift:e.selectedShift},on:{"dialogs-completed":e.fetchUpdatedShifts},model:{value:e.showVolunteerDialog,callback:function(t){e.showVolunteerDialog=t},expression:"showVolunteerDialog"}})],1)},K=[],Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"event__inner pt-1",class:e.event.isRecurring?"":"nonRecurringEvent",attrs:{fluid:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",[n("div",{staticClass:"text-caption font-weight-medium"},[e.event.isRecurring?n("v-icon",{attrs:{small:""}},[e._v("mdi-repeat")]):n("v-icon",{attrs:{small:""}},[e._v("mdi-calendar")]),e._v(" "+e._s(e.event.shiftTitle||(e.event.isRecurring?"Recurring Shift":"Single Occurrence Shift"))+" ")],1),n("div",{staticClass:"font-weight-medium"},[n("v-icon",{attrs:{small:""}},[e._v("mdi-clock")]),e._v(" "+e._s(e.formatTimeslot(e.event.start))+" - "+e._s(e.formatTimeslot(e.event.end))+" ")],1)])],1),n("v-divider",{staticClass:"grey darken-1 mb-1 mt-1"}),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("div",{staticClass:"text-caption font-weight-bold"},[e._v("Available Spots:")]),n("div",{staticClass:"text-caption mb-n1",class:{strikethrough:0===e.availableVolunteerSpots}},[e._v("Volunteers: "),n("strong",[e._v(e._s(e.availableVolunteerSpots))])]),n("div",{staticClass:"text-caption mb-1",class:{strikethrough:0===e.availableDriverSpots}},[e._v("Drivers / Helpers: "),n("strong",[e._v(e._s(e.availableDriverSpots))])])])],1),n("v-divider",{staticClass:"grey darken-1 mb-2"}),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[e.isLoggedIn?n("v-btn",e._g(e._b({staticClass:"d-inline-block",attrs:{color:"primary","x-small":"",disabled:e.isEventInPast}},"v-btn",a,!1),r),[e._v("Manage")]):n("v-btn",e._g(e._b({staticClass:"d-inline-block",attrs:{color:"primary","x-small":"",disabled:e.isEventInPast}},"v-btn",a,!1),r),[e._v("Volunteer")])]}}])},[e.isEventInPast?n("span",[e._v("Events are not accessible on past dates.")]):e.isLoggedIn?n("span",[e._v("View participants for this shift.")]):n("span",[e._v("Sign up to help with the shift.")])])],1)],1)],1)},ee=[],te=n("1d9b"),ne=n("71bf"),re={name:"CalendarDay",components:{},data:function(){return{}},props:{event:{type:Object,default:function(){return{}}},isLoggedIn:{type:Boolean,default:!1}},computed:{availableVolunteerSpots:function(){return this.event.volunteerLimit&&Array.isArray(this.event.volunteerNames)?this.event.volunteerLimit-this.event.volunteerNames.length:0},availableDriverSpots:function(){return this.event.driverHelperLimit&&Array.isArray(this.event.driverHelperNames)?this.event.driverHelperLimit-this.event.driverHelperNames.length:0},isEventInPast:function(){var e="America/Chicago",t=Object(ne["b"])(this.event.start,e),n=Object(ne["a"])(new Date,e);return Object(te["a"])(t,n)}},methods:{duration:function(e){return Math.abs(Object(A["a"])(Object(I["a"])(e.start),Object(I["a"])(e.end)))/60},displayTime:function(e){return e.slice(11)},formatTimeslot:function(e){var t=e.split(" ")[1],n=new Date("1970-01-01 ".concat(t));return n.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/ /g,"")}}},ae=re,ie=(n("10d4"),n("62ad")),oe=n("ce7e"),ce=n("0fd9"),se=n("3a2f"),le=Object(d["a"])(ae,Q,ee,!1,null,"234ce99a",null),ue=le.exports;p()(le,{VBtn:h["a"],VCol:ie["a"],VContainer:g["a"],VDivider:oe["a"],VIcon:b["a"],VRow:ce["a"],VTooltip:se["a"]});var de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-sheet",{attrs:{height:"64"}},[n("v-toolbar",{attrs:{flat:""}},[n("v-row",{attrs:{align:"center",justify:"space-between","no-gutters":""}},[n("v-col",{attrs:{cols:"3"}},[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({attrs:{outlined:"",color:"grey darken-2"}},"v-btn",a,!1),r),[n("span",[e._v(e._s(e.typeToLabel[e.propType]))]),n("v-icon",{attrs:{right:""}},[e._v("mdi-menu-down")])],1)]}}])},[n("v-list",[n("v-list-item",{on:{click:function(t){return e.$emit("typeMonth")}}},[n("v-list-item-title",[e._v("Month")])],1),n("v-list-item",{on:{click:function(t){return e.$emit("typeWeek")}}},[n("v-list-item-title",[e._v("Week")])],1),n("v-list-item",{on:{click:function(t){return e.$emit("type4day")}}},[n("v-list-item-title",[e._v("4 days")])],1),n("v-list-item",{on:{click:function(t){return e.$emit("typeDay")}}},[n("v-list-item-title",[e._v("Day")])],1)],1)],1),n("v-btn",{staticClass:"mx-2",attrs:{outlined:"",color:"grey darken-2"},on:{click:function(t){return e.$emit("todayButtonClick")}}},[e._v(" Today ")]),n("v-btn",{staticClass:"mr-2",attrs:{outlined:"",color:"grey darken-2"},on:{click:e.prev}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-chevron-left")])],1),n("v-btn",{attrs:{outlined:"",color:"grey darken-2"},on:{click:e.next}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-chevron-right")])],1)],1),n("v-col",{staticClass:"d-flex justify-center align-center",attrs:{cols:"5"}},[e.reference?n("v-toolbar-title",{staticClass:"d-flex align-center justify-center"},[n("span",[e._v(e._s(e.reference.title))]),e.isLoggedIn?n("span",{staticClass:"ml-2"},[e._v(" | Selected: "),n("span",{staticClass:"blue--text"},[e._v(e._s(e.getSelectedParticipant.name||"All"))])]):e._e()]):e._e()],1),n("v-col",{staticClass:"text-right",attrs:{cols:"4",md:"4"}},[n("v-chip",{attrs:{color:"blue darken-1",label:"","text-color":"white"}},[n("v-icon",{attrs:{left:""}},[e._v("mdi-clock-outline")]),e._v(" Total Hours: "+e._s(e.totalHours)+" ")],1),n("v-chip",{staticClass:"ma-2",attrs:{color:"blue darken-1",label:"","text-color":"white"}},[n("v-icon",{attrs:{left:""}},[e._v("mdi-calendar-range")]),e._v(" Total Shifts: "+e._s(e.shifts.length)+" ")],1),n("v-chip",{staticClass:"mr-0",attrs:{color:"blue darken-1",label:"","text-color":"white"},on:{click:function(t){return e.PDFCalendar(e.getSelectedParticipant.name,e.focus)}}},[n("v-icon",{attrs:{left:""}},[e._v("mdi-download")]),e._v(" Download PDF ")],1)],1)],1)],1)],1)},ve=[],pe=(n("13d5"),n("ade3")),fe=n("8baf"),me=n("c0e9"),he=n.n(me),ge={components:{},data:function(){return{typeToLabel:{month:"Month",week:"Week",day:"Day","4day":"4 Days"}}},props:{shifts:{type:Array,default:function(){return[]}},focus:{type:String,default:""},propType:{type:String,default:""},reference:{type:Object,default:function(){return{}}}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])("storeCalendar",["getSelectedParticipant"])),{},{isLoggedIn:function(){return!!this.$store.state.user},totalHours:{get:function(){try{if(!this.shifts.length)return 0;var e=this.shifts.reduce((function(e,t){var n=parseFloat(t.duration);return isNaN(n)?e:e+n}),0);return e}catch(t){return 0}}},buttonSize:function(){var e={xs:"x-small",sm:"small",md:"small",lg:"small",xl:"large"}[this.$vuetify.breakpoint.name];return e?Object(pe["a"])({},e,!0):{}}}),methods:{prev:function(){this.reference.prev()},next:function(){this.reference.next()},PDFCalendar:function(e,t){var n=document.querySelector("#calendarContent"),r=n.cloneNode(!0);r.id="printCalendarClone",n.after(r);var a=document.createElement("h3");a.style.paddingTop="1rem",a.style.paddingBottom="1rem";var i=void 0===e?"All":e,o=(new Date).getFullYear(),c=(new Date).getMonth()+1,s={year:"numeric",month:"long"},l=new Date(o,c-1,1),u=l.toLocaleDateString("en-US",s);a.innerHTML="Selected: ".concat(i," - Date: ").concat(u);var d=document.querySelector("#printCalendarClone").getElementsByClassName("printInformationArea")[0];d||(d=document.createElement("div"),d.className="printInformationArea",r.insertBefore(d,r.firstChild)),d.appendChild(a),r.style.width="auto",r.style.height="auto";var v=new fe["a"]({orientation:"landscape",unit:"pt",format:"a4"});he()(r,{scale:2,useCORS:!0}).then((function(e){var t=e.width,n=e.height,r=v.internal.pageSize.getWidth(),a=v.internal.pageSize.getHeight(),o=r/t,c=a/n,s=Math.min(o,c),l=t*s,d=n*s,p=e.toDataURL("image/png");v.addImage(p,"PNG",0,0,l,d),v.save("".concat(i,"-").concat(u,".pdf"))})).catch((function(e){console.error("Error at html2canvas: ".concat(e))})).finally((function(){r.remove()}))}}},be=ge,Ee=(n("0678"),n("cc20")),Se=n("8860"),ye=n("da13"),we=n("5d23"),De=n("e449"),xe=n("8dd9"),Re=n("71d9"),ke=n("2a7f"),Oe=Object(d["a"])(be,de,ve,!1,null,"35de057e",null),Te=Oe.exports;p()(Oe,{VBtn:h["a"],VChip:Ee["a"],VCol:ie["a"],VIcon:b["a"],VList:Se["a"],VListItem:ye["a"],VListItemTitle:we["b"],VMenu:De["a"],VRow:ce["a"],VSheet:xe["a"],VToolbar:Re["a"],VToolbarTitle:ke["a"]});var Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-navigation-drawer",{attrs:{width:"100%",permanent:e.$vuetify.breakpoint.lgAndUp,absolute:e.$vuetify.breakpoint.mdAndDown,floating:"",right:""},model:{value:e.drawerSwitch,callback:function(t){e.drawerSwitch=t},expression:"drawerSwitch"}},[n("v-list",[n("v-list-item-group",[n("v-list-item",{staticClass:"mt-n2",class:""!==e.getSelectedParticipant.name&&e.getSelectedParticipant.name?"white":"blue",attrs:{link:""},on:{click:function(t){return e.eventsByName("","")}}},[n("v-list-item-title",{class:""!==e.getSelectedParticipant.name&&e.getSelectedParticipant.name?"":"white--text"},[n("span",{staticClass:"mr-2"},[e._v("All")])])],1)],1),n("v-list-group",{staticClass:"grey lighten-4",attrs:{value:"volunteers"===e.expandedGroup&&e.namesVolunteers.length>0,dense:""},on:{input:function(t){return e.handleGroupToggle("volunteers")}},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-title",[n("span",{staticClass:"mr-3"},[e._v("Volunteers")]),n("span",{staticClass:"caption grey--text"},[e._v(e._s(e.namesVolunteers.length))])])]},proxy:!0}])},[n("v-virtual-scroll",{attrs:{items:e.namesVolunteers,"item-height":40,height:e.volunteersScrollHeight},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;return[n("v-list-item",{class:r===e.getSelectedParticipant.name&&"volunteerNames"===e.getSelectedParticipant.type?"blue":"",attrs:{link:"",dense:""},on:{click:function(t){return e.eventsByName(r,"volunteerNames")}}},[n("v-list-item-title",{class:r===e.getSelectedParticipant.name&&"volunteerNames"===e.getSelectedParticipant.type?"white--text":""},[e._v(" "+e._s(r)+" ")])],1)]}}])})],1),n("v-list-group",{staticClass:"grey lighten-4",attrs:{value:"driverHelpers"===e.expandedGroup&&e.namesDriverHelpers.length>0},on:{input:function(t){return e.handleGroupToggle("driverHelpers")}},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-title",[n("span",{staticClass:"mr-3"},[e._v("Drivers / Driver Helpers")]),n("span",{staticClass:"caption grey--text"},[e._v(e._s(e.namesDriverHelpers.length))])])]},proxy:!0}])},[n("v-virtual-scroll",{attrs:{items:e.namesDriverHelpers,"item-height":40,height:e.driverHelpersScrollHeight},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;return[n("v-list-item",{class:r===e.getSelectedParticipant.name&&"driverHelperNames"===e.getSelectedParticipant.type?"blue":"",attrs:{link:"",dense:""},on:{click:function(t){return e.eventsByName(r,"driverHelperNames")}}},[n("v-list-item-title",{class:r===e.getSelectedParticipant.name&&"driverHelperNames"===e.getSelectedParticipant.type?"white--text":""},[e._v(" "+e._s(r)+" ")])],1)]}}])})],1)],1)],1)],1)},Ne=[],_e={name:"CalendarSideBar",props:{focus:{type:String,default:""}},data:function(){return{valid:!1,loading:!1,items:[],expandedGroup:"volunteers"}},watch:{},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["c"])(["drawerStatus"])),Object(c["c"])("storeCalendar",["getSelectedParticipant","getNamesVolunteers","getNamesDriverHelpers"])),{},{drawerSwitch:{get:function(){return this.drawerStatus},set:function(){}},namesVolunteers:{get:function(){return this.getNamesVolunteers.filter((function(e){return""!==e})).sort((function(e,t){return e.split(" ")[1].localeCompare(t.split(" ")[1])}))}},namesDriverHelpers:{get:function(){return this.getNamesDriverHelpers.filter((function(e){return""!==e})).sort((function(e,t){return e.split(" ")[1].localeCompare(t.split(" ")[1])}))}},volunteersScrollHeight:function(){var e=40,t=220,n=this.namesVolunteers.length*e;return"".concat(Math.min(n,t),"px")},driverHelpersScrollHeight:function(){var e=40,t=220,n=this.namesDriverHelpers.length*e;return"".concat(Math.min(n,t),"px")}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["b"])(["updateSnackMessage"])),Object(c["b"])("storeCalendar",["updateSelectedParticipant"])),Object(c["d"])(["drawerChange"])),{},{eventsByName:function(e,t){var n=this;return Object(k["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.updateSelectedParticipant({name:e,type:t});case 3:n.$emit("selectedParticipant"),n.drawerChange(),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),n.logError(r.t0,"[CalendarSideBar/eventsByName]: Error updating selected participant.");case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},handleGroupToggle:function(e){var t="volunteers"===e?this.namesVolunteers.length>0:this.namesDriverHelpers.length>0;t&&(this.expandedGroup=this.expandedGroup===e?"":e)},checkDuplicateName:function(e,t){return this[t]&&this[t].includes(e)},clearItems:function(){this.items=[]},logError:function(e,t){console.error(t,e),this.updateSnackMessage("Error: ".concat(e.message))}})},je=_e,Ie=n("56b0"),Le=n("1baa"),Ae=n("f774"),Ve=n("0de5"),Ue=Object(d["a"])(je,Ce,Ne,!1,null,null,null),Pe=Ue.exports;p()(Ue,{VList:Se["a"],VListGroup:Ie["a"],VListItem:ye["a"],VListItemGroup:Le["a"],VListItemTitle:we["b"],VNavigationDrawer:Ae["a"],VVirtualScroll:Ve["a"]});var He=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-dialog",{attrs:{persistent:"","max-width":"720"},on:{"click:outside":function(t){return e.adminShiftDialogOpen(!1)}},model:{value:e.eventOpen,callback:function(t){e.eventOpen=t},expression:"eventOpen"}},[n("v-card",[n("v-toolbar",[n("v-toolbar-title",[e._v(" "+e._s(e.newEvent?"Create Event":"Update Event")+" ")]),n("v-spacer"),n("v-btn",{attrs:{depressed:""},on:{click:function(t){return e.adminShiftDialogOpen(!1)}}},[n("v-icon",[e._v("mdi-close")])],1)],1),n("v-card-text",[n("v-row",{staticClass:"pt-6",attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Shift Title (Optional)",hint:"Enter a descriptive title for the shift, if desired.",type:"text",rules:[function(e){return e.length<=25||"Max 25 characters"}]},model:{value:e.localSelectedEvent.shiftTitle,callback:function(t){e.$set(e.localSelectedEvent,"shiftTitle",t)},expression:"localSelectedEvent.shiftTitle"}})],1)],1),n("v-row",{staticClass:"pt-3",attrs:{"no-gutters":""}},[n("v-col",{staticClass:"pr-6",attrs:{cols:"12",sm:"6"}},[n("v-text-field",{attrs:{hint:"Provide number of allowed volunteers.",label:"Volunteer Limit",type:"number",rules:[function(e){return!isNaN(e)&&e>=0&&e<=10||"The number must be between 0 and 10."}]},model:{value:e.localSelectedEvent.volunteerLimit,callback:function(t){e.$set(e.localSelectedEvent,"volunteerLimit",t)},expression:"localSelectedEvent.volunteerLimit"}})],1),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{attrs:{hint:"Provide number of allowed drivers and/or helpers.",label:"Driver / Helper Limit",type:"number",rules:[function(e){return!isNaN(e)&&e>=0&&e<=10||"The number must be between 0 and 10."}]},model:{value:e.localSelectedEvent.driverHelperLimit,callback:function(t){e.$set(e.localSelectedEvent,"driverHelperLimit",t)},expression:"localSelectedEvent.driverHelperLimit"}})],1)],1),n("calendar-event-time",{attrs:{event:e.localSelectedEvent},on:{startTimeChanged:function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];e.updateRecurringEventStartTime.apply(void 0,t),e.updateRRULEUntilDateTime.apply(void 0,t.concat([e.convertUNTILStringToFormattedDate(e.localUNTIL,"-","yyyymmdd")]))}}}),e.localSelectedEvent.isRecurring||e.newEvent?n("v-row",{attrs:{align:"start","no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("span",[e._v("Choose Shift Type:")]),n("v-checkbox",{staticClass:"mt-1",attrs:{label:"Recurring",disabled:e.localSelectedEvent.isRecurring&&!e.newEvent},model:{value:e.localSelectedEvent.isRecurring,callback:function(t){e.$set(e.localSelectedEvent,"isRecurring",t)},expression:"localSelectedEvent.isRecurring"}})],1)],1):e._e(),n("v-expand-transition",[e.localSelectedEvent.isRecurring?n("v-row",{attrs:{"no-gutters":""}},e._l(e.weekdayNames,(function(t){return n("div",{key:t},[n("v-col",{staticClass:"mr-1",attrs:{cols:"12",sm:"1"}},[n("v-checkbox",{attrs:{multiple:"",label:t,value:t},on:{change:function(t){return e.updateRRULEWeekdays(e.localBYDAY)}},model:{value:e.localBYDAY,callback:function(t){e.localBYDAY=t},expression:"localBYDAY"}})],1)],1)})),0):e._e()],1),n("v-expand-transition",[e.localSelectedEvent.isRecurring?n("v-row",[n("v-col",{attrs:{cols:"6",sm:"6"}},[n("v-select",{attrs:{items:e.intervalValues,label:"Recurring Shift Interval",hint:"Select how often the shift recurs. For example, selecting '2' means the shift will recur every 2 weeks.","persistent-hint":"","single-line":"",value:"localINTERVAL",rules:[function(e){return!!e||"Interval selection is required"}]},on:{change:e.updateRRULEInterval},model:{value:e.localINTERVAL,callback:function(t){e.localINTERVAL=t},expression:"localINTERVAL"}})],1),n("v-col",{attrs:{cols:"6",sm:"6"}},[n("calendar-until-date-picker",{attrs:{until:e.convertUNTILStringToFormattedDate(e.localUNTIL,"/","mmddyyyy"),minimumEventDate:e.convertDateToISOFormat(e.localSelectedEvent.start)},on:{untilPicked:function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];return e.updateRRULEUntilDateTime.apply(void 0,[e.localSelectedEvent.start].concat(t))}}})],1)],1):e._e()],1),n("v-row",{staticClass:"mt-3",attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12",sm:"12"}},[n("v-alert",{staticClass:"grey lighten-3",attrs:{outlined:"",dense:""}},[n("span",{staticClass:"text-body-2 font-weight-bold"},[e._v("Shift Details:")]),e.localSelectedEvent.isRecurring?[n("div",{staticClass:"text-body-2"},[e._v(" Shift start on "+e._s(e.formatDTSTARTDateWithSuffix(e.localSelectedEvent.rruleString))+" "+e._s(e.generateReadableRRULEDescription(e.localSelectedEvent.rruleString))+" ")])]:[e.localSelectedEvent.hasOwnProperty("actionType")?n("div",{staticClass:"text-body-2"},[e._v(" Single-Occurrence Diverged Shift ")]):n("div",{staticClass:"text-body-2"},[e._v("Single-Occurrence Shift")])]],2)],1)],1),e.safeVolunteerNames.length>0||e.safeDriverHelperNames.length>0?n("v-row",{attrs:{justify:"center","no-gutters":""}},[n("v-expansion-panels",{attrs:{accordion:"",focusable:""}},[e.safeVolunteerNames.length>0?n("v-expansion-panel",[n("v-expansion-panel-header",[e._v("Volunteers")]),n("v-expansion-panel-content",[n("v-data-table",{attrs:{headers:[{text:"Name",value:"name"},{text:"Email",value:"email"},{text:"Phone",value:"phone"}],items:e.processedVolunteerNames,"hide-default-footer":""},scopedSlots:e._u([{key:"item.email",fn:function(t){var r=t.item;return[n("a",{attrs:{href:"mailto:"+r.email,target:"_blank"}},[e._v(e._s(r.email))])]}},{key:"item.phone",fn:function(t){var r=t.item;return[r.phone?n("a",{attrs:{href:"tel:"+r.phone}},[e._v(e._s(r.phone))]):n("span",[e._v("-")])]}}],null,!1,4058504505)})],1)],1):e._e(),e.safeDriverHelperNames.length>0?n("v-expansion-panel",[n("v-expansion-panel-header",[e._v("Driver / Driver Helpers")]),n("v-expansion-panel-content",[n("v-data-table",{attrs:{headers:[{text:"Name",value:"name"},{text:"Email",value:"email"},{text:"Phone",value:"phone"}],items:e.processedDriverHelperNames,"hide-default-footer":""},scopedSlots:e._u([{key:"item.email",fn:function(t){var r=t.item;return[n("a",{attrs:{href:"mailto:"+r.email,target:"_blank"}},[e._v(e._s(r.email))])]}},{key:"item.phone",fn:function(t){var r=t.item;return[r.phone?n("a",{attrs:{href:"tel:"+r.phone}},[e._v(e._s(r.phone))]):n("span",[e._v("-")])]}}],null,!1,4058504505)})],1)],1):e._e()],1)],1):e._e()],1),n("v-card-actions",[e.localSelectedEvent.isRecurring?n("div",[n("v-menu",{attrs:{bottom:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({attrs:{text:"",color:"orange",disabled:e.newEvent}},"v-btn",a,!1),r),[e._v(" Delete "),n("v-icon",{attrs:{right:"",dark:""}},[e._v(" mdi-trash-can-outline ")])],1)]}}],null,!1,141575925)},[n("v-list",e._l(e.deleteOptions,(function(t,r){return n("v-list-item",{key:r,on:{click:function(n){return e.removeShiftAfterDeleteButtonClicked(e.localSelectedEvent,t.action)}}},[n("v-list-item-title",[e._v(" "+e._s(t.title)+" ")])],1)})),1)],1)],1):n("div",[n("v-btn",{attrs:{disabled:e.newEvent,text:"",color:"orange"},on:{click:function(t){return e.removeShiftAfterDeleteButtonClicked(e.localSelectedEvent)}}},[e._v(" Delete "),n("v-icon",{attrs:{right:"",dark:""}},[e._v(" mdi-trash-can-outline ")])],1)],1),n("v-spacer"),e.localSelectedEvent.isRecurring&&e.newEvent?n("div",[n("v-btn",{attrs:{disabled:!e.valid&&e.newEvent,depressed:"",color:"primary darken-1 white--text"},on:{click:function(t){return e.createAndSaveNewShift(e.localSelectedEvent)}}},[e._v(" Create "),n("v-icon",{attrs:{right:"",dark:""}},[e._v("mdi-content-save")])],1)],1):!e.localSelectedEvent.isRecurring&&e.newEvent?n("div",[n("v-btn",{attrs:{disabled:!e.valid&&e.newEvent,depressed:"",color:"green darken-1 white--text"},on:{click:function(t){return e.createAndSaveNewShift(e.localSelectedEvent)}}},[e._v(" Create "),n("v-icon",{attrs:{right:"",dark:""}},[e._v("mdi-content-save")])],1)],1):e.localSelectedEvent.isRecurring&&!e.newEvent?n("div",[n("v-menu",{attrs:{bottom:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({attrs:{depressed:"",color:e.localSelectedEvent.isRecurring?"primary darken-1 white--text":"green darken-1 white--text",disabled:!e.valid}},"v-btn",a,!1),r),[e._v(" Save "),n("v-icon",{attrs:{right:"",dark:""}},[e._v(" mdi-content-save ")])],1)]}}])},[n("v-list",e._l(e.saveOptions,(function(t,r){return n("v-list-item",{key:r,on:{click:function(n){return e.updateShiftAfterSaveButtonClicked(e.localSelectedEvent,t.action)}}},[n("v-list-item-title",[e._v(" "+e._s(t.title)+" ")])],1)})),1)],1)],1):n("div",[n("v-btn",{attrs:{disabled:!e.valid&&e.newEvent,depressed:"",color:"green darken-1 white--text"},on:{click:function(t){return e.updateShiftAfterSaveButtonClicked(e.localSelectedEvent)}}},[e._v(" Save "),n("v-icon",{attrs:{right:"",dark:""}},[e._v("mdi-content-save")])],1)],1)],1)],1)],1)],1)},Me=[],Fe=(n("c975"),n("a15b"),n("a9e3"),n("b64b"),n("25f0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",[n("v-col",{attrs:{cols:"4"}},[n("v-dialog",{ref:"dialog",attrs:{"return-value":e.compuStart,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.compuStart=t},"update:return-value":function(t){e.compuStart=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{value:e.formattedCompuStart,label:"Start Time",readonly:""}},"v-text-field",a,!1),r))]}}]),model:{value:e.menu_start,callback:function(t){e.menu_start=t},expression:"menu_start"}},[e.menu_start?n("v-time-picker",{attrs:{"allowed-minutes":e.allowedStep,format:"ampm","use-ampm":"","full-width":""},on:{"click:minute":function(t){return e.$refs.menu.save(e.compuStart)}},model:{value:e.compuStart,callback:function(t){e.compuStart=t},expression:"compuStart"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu_start=!1}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.$refs.dialog.save(e.compuStart),e.menu_start=!1}}},[e._v(" OK ")])],1):e._e()],1)],1),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{label:"Shift Duration",hint:"Example: 4.25 (4 Hours, 15 Minutes)",rules:e.rulesDuration},on:{blur:function(t){e.duration=e.compuDur}},model:{value:e.compuDur,callback:function(t){e.compuDur=t},expression:"compuDur"}})],1),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{value:e.formattedCompuEnd,label:"End time",disabled:""}})],1)],1)}),Be=[],$e=(n("4d90"),{name:"CalendarEventTime",props:{event:{type:Object,default:function(){return{}}}},data:function(){return{start_time:"",menu_start:!1,rulesDuration:[function(e){return!!e||"Required"},function(e){return!e||e<=24||"Maximum 24"},function(e){return!e||/^\s*(?=.*[1-9])\d+(\.(?:0|00|25|5|50|75))?$/.test(e)||"Ranges 0.25 to 24 in 0.25 increments"}]}},computed:{compuStart:{get:function(e){return this.timeOnly(this.event.start)},set:function(e){var t=this.compuDur;this.event.start=this.formatFull(e,"start"),this.compuDur=t,this.$emit("startTimeChanged",e)}},compuDur:{get:function(){var e=Math.abs(Object(A["a"])(Object(I["a"])(this.event.start),Object(I["a"])(this.event.end))),t=e/60;return t},set:function(e){var t=this.compuDur,n=/^\s*(?=.*[1-9])\d+(\.(?:0|00|25|5|50|75))?$/,r=n.test(e);if(r){this.event.duration=e;var a=60*e;this.compuEnd=a}else this.event.duration=t}},compuEnd:{get:function(e){return this.timeOnly(this.event.end)},set:function(e){if(!isNaN(e)){this.displayDate(this.event.start);this.event.end=Object(_["a"])(Object(V["a"])(Object(I["a"])(this.event.start),e),"yyyy-MM-dd HH:mm")}}},formattedCompuStart:{get:function(){if(!this.compuStart)return"";var e=this.compuStart.split(":"),t=Object(T["a"])(e,2),n=t[0],r=t[1],a=parseInt(n,10),i=a>=12?"PM":"AM";return n=a%12,n=n||12,r=parseInt(r,10),"".concat(n.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0")," ").concat(i)},set:function(e){}},formattedCompuEnd:{get:function(){if(!this.compuEnd)return"";var e=this.compuEnd.split(":"),t=Object(T["a"])(e,2),n=t[0],r=t[1],a=parseInt(n,10),i=a>=12?"PM":"AM";return n=a%12,n=n||12,r=parseInt(r,10),"".concat(n.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0")," ").concat(i)},set:function(e){}}},watch:{start_time:function(e){this.event.start=this.formatFull(this.start_time,"start")}},methods:{timeOnly:function(e){return e?e.slice(11):"00:00"},displayDate:function(e){return e?e.substring(0,10):""},formatFull:function(e,t){if(!e||!t)return null;var n="start"===t?this.event.start.substring(0,10):this.event.end.substring(0,10);return"".concat(n," ").concat(e)},allowedStep:function(e){return e%15===0}}}),Ye=$e,We=n("169a"),ze=n("8654"),qe=n("c964"),Ge=Object(d["a"])(Ye,Fe,Be,!1,null,null,null),Xe=Ge.exports;p()(Ge,{VBtn:h["a"],VCol:ie["a"],VDialog:We["a"],VRow:ce["a"],VSpacer:y["a"],VTextField:ze["a"],VTimePicker:qe["a"]});var Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-menu",{ref:"untilMenu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"Select Until Date",hint:"Choose a date until which the shift is valid","persistent-hint":"","append-icon":"mdi-calendar"},on:{blur:function(t){e.localDate=e.compDate},"click:append":function(t){e.untilMenu=!e.untilMenu}},model:{value:e.formattedCompDate,callback:function(t){e.formattedCompDate=t},expression:"formattedCompDate"}},"v-text-field",a,!1),r))]}}]),model:{value:e.untilMenu,callback:function(t){e.untilMenu=t},expression:"untilMenu"}},[n("v-date-picker",{attrs:{"no-title":"",min:e.minimumEventDate,max:e.maxDate},on:{input:function(t){e.untilMenu=!1}},model:{value:e.compDate,callback:function(t){e.compDate=t},expression:"compDate"}})],1)],1)},Je=[],Ke=(n("4d63"),{name:"CalendarUntilDatePicker",props:{until:{type:String,default:""},minimumEventDate:{type:String,default:""}},data:function(){var e=new Date,t=new Date(e.setFullYear(e.getFullYear()+1)).toISOString().split("T")[0];return{dateLocal:"",untilMenu:!1,maxDate:t}},computed:{compDate:{get:function(){return this.dateLocal||this.toISOFormat(this.until)},set:function(e){this.dateLocal=e,this.$emit("untilPicked",this.dateLocal)}},localDate:{get:function(){return this.dateLocal},set:function(e){this.dateLocal=e}},formattedCompDate:{get:function(){if(!this.compDate)return"";var e=this.compDate.split("-").map((function(e){return parseInt(e,10)})),t=Object(T["a"])(e,3),n=t[0],r=t[1],a=t[2],i=new Date(n,r-1,a),o=a+this.getOrdinal(a),c={year:"numeric",month:"long",day:"numeric"},s=i.toLocaleDateString("en-US",c),l=new RegExp("\\b"+a+"\\b");return s=s.replace(l,o),s},set:function(e){}}},methods:{toISOFormat:function(e){if(!e)return null;var t=e.split("/"),n=Object(T["a"])(t,3),r=n[0],a=n[1],i=n[2];return"".concat(i,"-").concat(r.padStart(2,"0"),"-").concat(a.padStart(2,"0"))},getOrdinal:function(e){if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}}}),Qe=Ke,et=n("2e4b"),tt=Object(d["a"])(Qe,Ze,Je,!1,null,null,null),nt=tt.exports;p()(tt,{VDatePicker:et["a"],VMenu:De["a"],VTextField:ze["a"]});var rt={components:{CalendarEventTime:Xe,CalendarUntilDatePicker:nt},props:{updateLocalStateOnShiftSelectionChange:{type:Object,default:function(){return{}}},dateForNewShift:{type:Object,default:function(){return{}}},selectedWeekdayNum:{type:Number,default:0},originalData:{type:Object,default:function(){return{}}}},data:function(){return{valid:!1,localSelectedEvent:{shiftTitle:"",volunteerLimit:3,driverHelperLimit:2},newEvent:!1,weekdayNames:["SU","MO","TU","WE","TH","FR","SA"],intervalValues:["1","2","3","4"],localINTERVAL:"",localUNTIL:"",localBYDAY:[],rruleDescriptionCache:{},volunteerNames:[],driverHelperNames:[],deleteOptions:[{title:"Delete this instance",action:"deleteInstance"},{title:"Delete All",action:"deleteAll"}],saveOptions:[{title:"Update this only",action:"updateInstance"},{title:"Update All",action:"updateAll"}]}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])("storeCalendar",["eventOpen","getIndexEvent","getSelectedParticipant","emitRefreshAndResetNewEventState"])),{},{processedVolunteerNames:function(){return this.safeVolunteerNames.map((function(e){var t=e.name.replace(/\s*\(.*?\)\s*/g,"");return Object(o["a"])(Object(o["a"])({},e),{},{name:t})}))},processedDriverHelperNames:function(){return this.safeDriverHelperNames.map((function(e){var t=e.name.replace(/\s*\(.*?\)\s*/g,"");return Object(o["a"])(Object(o["a"])({},e),{},{name:t})}))},safeVolunteerNames:function(){return this.localSelectedEvent.volunteerNames||[]},safeDriverHelperNames:function(){return this.localSelectedEvent.driverHelperNames||[]}}),watch:{dateForNewShift:function(e){this.isObjectNotEmpty(e)&&(this.openAdminShiftDialogAndPopulateDefaultData(e),console.log("[CalendarEventDialog.vue/dateForNewShift]: Watch has triggered."))},updateLocalStateOnShiftSelectionChange:function(e){this.isObjectNotEmpty(e)&&(this.newEvent=!1,this.localSelectedEvent=e),this.localBYDAY=this.getBYDAYFromRRULE(this.localSelectedEvent.rruleString),this.localUNTIL=this.getUNTILFromDateRRULE(this.localSelectedEvent.rruleString),this.localINTERVAL=this.getINTERVALFromRRULE(this.localSelectedEvent.rruleString),console.log("[CalendarEventDialog.vue/updateLocalStateOnShiftSelectionChange]: Watch has triggered.",e)},localSelectedEvent:{deep:!0,handler:function(){try{this.newEvent&&(this.localSelectedEvent.isRecurring?(this.localSelectedEvent.rruleString=this.createRRULEStringDuringShiftCreation(this.localSelectedEvent),this.localINTERVAL=this.getINTERVALFromRRULE(this.localSelectedEvent.rruleString),this.localUNTIL=this.getUNTILFromDateRRULE(this.localSelectedEvent.rruleString),console.log("[CalendarEventDialog.vue/updateRRULEForShift]: RRULE for shift updated as the shift is recurring.")):(this.localSelectedEvent.rruleString="",console.log("[CalendarEventDialog.vue/updateRRULEForShift]: RRULE for shift cleared as the shift is not recurring.")))}catch(e){console.error("[CalendarEventDialog.vue/updateRRULEForShift]: Error updating RRULE for shift:",e)}}},emitRefreshAndResetNewEventState:function(){this.$emit("refresh"),this.SET_NEW_EVENT_SIGNAL(!1)}},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["b"])(["updateSnackMessage"])),Object(c["b"])("storeCalendar",["adminShiftDialogOpen","actionCreateNewEvent","updateEvent","deleteEvent"])),Object(c["d"])("storeCalendar",["SET_NEW_EVENT_SIGNAL"])),{},{isObjectNotEmpty:function(e){var t=Object.keys(e).length>0;return console.log("[CalendarEventDialog.vue/isObjectNotEmpty]: Object has properties: ".concat(t)),t},convertDateToISOFormat:function(e){if(!e)return console.log("[CalendarEventDialog.vue/convertDateToISOFormat]: No date provided."),"";try{var t=Object(_["a"])(Object(I["a"])(e),"yyyy-MM-dd");return console.log("[CalendarEventDialog.vue/convertDateToISOFormat]: Date converted to ISO format successfully."),t}catch(n){return console.error("[CalendarEventDialog.vue/convertDateToISOFormat]: Error converting date to ISO format: ".concat(n)),""}},openAdminShiftDialogAndPopulateDefaultData:function(e){var t=e.date;try{this.valid=!1,this.newEvent=!0,this.localSelectedEvent={shiftTitle:"",volunteerLimit:"3",volunteerNames:[],driverHelperLimit:"2",driverHelperNames:[],start:"".concat(t," 08:30"),end:"".concat(t," 12:30"),duration:"4",isRecurring:!1,rruleString:""},this.adminShiftDialogOpen(!0),console.log("[CalendarEventDialog.vue/openAdminShiftDialogAndPopulateDefaultData]: Admin shift dialog opened successfully with default data populated.")}catch(n){console.error("[CalendarEventDialog.vue/openAdminShiftDialogAndPopulateDefaultData]: Error opening admin shift dialog and populating default data:",n)}},updateShiftAfterSaveButtonClicked:function(e,t){var n=this;return Object(k["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.isRecurring&&(a={updateInstance:function(){return n.generateActionTypeObject("updateInstance",n.originalData)},updateForward:function(){var t=n.generateActionTypeObject("updateForward","");return n.updateRecurringEventStartDate(e.start),t},updateAll:function(){return n.generateActionTypeObject("updateAll","")}},e.actionType=a[t]?a[t]():n.updateSnackMessage("No actionType in updateShiftAfterSaveButtonClicked")),r.prev=1,r.next=4,n.updateEvent(e);case 4:n.updateSnackMessage("Shift updated successfully."),console.log("[CalendarEventDialog.vue/updateShiftAfterSaveButtonClicked]: Shift updated successfully:",e),r.next=12;break;case 8:r.prev=8,r.t0=r["catch"](1),console.error("[CalendarEventDialog.vue/updateShiftAfterSaveButtonClicked]: Error updating shift:",r.t0),n.updateSnackMessage("Error updating shift: ".concat(r.t0.message));case 12:return r.prev=12,n.adminShiftDialogOpen(!1),r.finish(12);case 15:case"end":return r.stop()}}),r,null,[[1,8,12,15]])})))()},createAndSaveNewShift:function(e){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.actionCreateNewEvent(e);case 3:t.updateSnackMessage("New shift created"),console.log("[CalendarEventDialog.vue/createAndSaveNewShift]: New shift created successfully."),n.next=11;break;case 7:n.prev=7,n.t0=n["catch"](0),console.error("[CalendarEventDialog.vue/createAndSaveNewShift]: Error creating new shift: ".concat(n.t0)),t.updateSnackMessage("Error creating new shift: ".concat(n.t0.message));case 11:return n.prev=11,t.newEvent=!1,t.adminShiftDialogOpen(!1),n.finish(11);case 15:case"end":return n.stop()}}),n,null,[[0,7,11,15]])})))()},removeShiftAfterDeleteButtonClicked:function(e,t){var n=this;return Object(k["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e.isRecurring||!t){r.next=17;break}if(r.prev=1,a=n.generateActionTypeObject("deleteInstance"===t?"deleteInstance":"deleteForward"===t?"deleteForward":"deleteAll"===t?"deleteAll":"","deleteInstance"===t?n.originalData:""),!a.description){r.next=7;break}e.actionType=a,r.next=10;break;case 7:return n.updateSnackMessage("No actionType in removeShiftAfterDeleteButtonClicked"),console.error("[CalendarEventDialog.vue/removeShiftAfterDeleteButtonClicked]: Invalid removeType: ".concat(t)),r.abrupt("return");case 10:r.next=17;break;case 12:return r.prev=12,r.t0=r["catch"](1),console.error("[CalendarEventDialog.vue/removeShiftAfterDeleteButtonClicked]: Error setting actionType in removeShiftAfterDeleteButtonClicked: ".concat(r.t0)),n.updateSnackMessage("Error setting actionType: ".concat(r.t0.message)),r.abrupt("return");case 17:return r.prev=17,r.next=20,n.deleteEvent(e);case 20:n.updateSnackMessage("Shift deleted."),console.log("[CalendarEventDialog.vue/removeShiftAfterDeleteButtonClicked]: Shift successfully deleted:",e),r.next=28;break;case 24:r.prev=24,r.t1=r["catch"](17),console.error("[CalendarEventDialog.vue/removeShiftAfterDeleteButtonClicked]: Error deleting shift: ".concat(r.t1)),n.updateSnackMessage("Error deleting shift: ".concat(r.t1.message));case 28:return r.prev=28,n.adminShiftDialogOpen(!1),r.finish(28);case 31:case"end":return r.stop()}}),r,null,[[1,12],[17,24,28,31]])})))()},createRRULEStringDuringShiftCreation:function(e){if(!e.isRecurring)return"";try{var t=new Date(e.start),n=t.getFullYear(),r=t.getUTCMonth(),a=t.getDate(),i=t.getHours(),o=t.getMinutes(),c=this.localBYDAY.length>0?this.localBYDAY.map((function(e){return N["a"][e.toUpperCase()]})):[this.getWeekdayAbbreviationByIndex(t.getDay())],s=new N["a"]({freq:N["a"].WEEKLY,byweekday:c,interval:parseInt(this.localINTERVAL,10)||1,dtstart:new Date(Date.UTC(n,r,a,i,o)),until:this.convertUNTILStringToDate(this.localUNTIL)||new Date(Date.now()+6048e5)});return console.log("[CalendarEventDialog.vue/createRRULEStringDuringShiftCreation]: Created RRule string: ",s.toString()),s.toString()}catch(l){return console.error("[CalendarEventDialog.vue/createRRULEStringDuringShiftCreation]: Error creating RRULE string: ".concat(l)),""}},getWeekdayAbbreviationByIndex:function(e){if("number"!==typeof e||e<0||e>=this.weekdayNames.length)return console.error("[CalendarEventDialog.vue/getWeekdayAbbreviationByIndex]: Invalid dayNum argument",e),"";try{return this.weekdayNames[e]}catch(t){return console.error("[CalendarEventDialog.vue/getWeekdayAbbreviationByIndex]: Error accessing weekdayNames with dayNum",e,t),""}},updateRecurringEventStartTime:function(e){if(this.localSelectedEvent.isRecurring)try{var t=e.replace(":","")+"00",n=this.localSelectedEvent.rruleString,r=n.indexOf("DTSTART");if(-1===r)throw new Error("DTSTART not found in RRULE string.");var a=n.indexOf("Z",r);if(-1===a)throw new Error("Zulu time indicator (Z) not found in RRULE string after DTSTART.");var i=n.substring(r+17,a);this.localSelectedEvent.rruleString=this.replaceSubstringAtIndex(n,i,t,0),console.log("[CalendarEventDialog.vue/updateRecurringEventStartTime]: Successfully updated RRULE string.")}catch(o){console.error("[CalendarEventDialog.vue/updateRecurringEventStartTime]: Error updating RRULE string: ".concat(o.message))}else console.log("[CalendarEventDialog.vue/updateRecurringEventStartTime]: The shift is not recurring. Exiting method.")},updateRecurringEventStartDate:function(e){if(this.localSelectedEvent.isRecurring)try{var t=e.slice(0,10).replaceAll("-",""),n=this.localSelectedEvent.rruleString,r=n.indexOf("DTSTART");if(-1===r)throw new Error("DTSTART not found in RRULE string.");var a=r+8,i=n.indexOf("T",a);if(-1===i)throw new Error("Time (T) not found in RRULE string after DTSTART date.");var o=n.substring(a,i);this.localSelectedEvent.rruleString=this.replaceSubstringAtIndex(n,o,t,0),console.log("[CalendarEventDialog.vue/updateRecurringEventStartDate]: Successfully updated DTSTART date in RRULE string.")}catch(c){console.error("[CalendarEventDialog.vue/updateRecurringEventStartDate]: Error updating DTSTART date in RRULE string: ".concat(c.message))}else console.log("[CalendarEventDialog.vue/updateRecurringEventStartDate]: The shift is not recurring. Exiting method.")},getINTERVALFromRRULE:function(e){if(e)try{var t=e.indexOf("INTERVAL")+9,n=e.indexOf(";",t);if(8===t||-1===n)throw new Error("INTERVAL not found or malformed in RRULE string.");return console.log("[CalendarEventDialog.vue/getINTERVALFromRRULE]: Successfully extracted INTERVAL from RRULE string."),e.substring(t,n)}catch(r){console.error("[CalendarEventDialog.vue/getINTERVALFromRRULE]: Error extracting INTERVAL number: ".concat(r.message))}else console.log("[CalendarEventDialog.vue/getINTERVALFromRRULE]: No RRULE string provided.")},updateRRULEInterval:function(e){if(this.localSelectedEvent.rruleString)try{var t=this.localSelectedEvent.rruleString,n=t.indexOf("INTERVAL");if(-1===n)throw new Error("INTERVAL part not found in RRULE string.");var r=t.indexOf(";",n),a=t.substring(n,-1!==r?r:void 0),i="INTERVAL=".concat(e);this.localINTERVAL=e,this.localSelectedEvent.rruleString=this.replaceSubstringAtIndex(t,a,i,0),console.log("[CalendarEventDialog.vue/updateRRULEInterval]: Successfully updated INTERVAL in RRULE string.")}catch(o){console.error("[CalendarEventDialog.vue/updateRRULEInterval]: Error updating INTERVAL in RRULE string: ".concat(o.message))}else console.log("[CalendarEventDialog.vue/updateRRULEInterval]: No RRULE string available in the selected event.")},getBYDAYFromRRULE:function(e){if(!e)return console.log("[CalendarEventDialog.vue/getBYDAYFromRRULE]: No RRULE string provided. Using selected weekday number."),[this.getWeekdayAbbreviationByIndex(this.selectedWeekdayNum)];try{var t=e.indexOf("BYDAY");if(-1===t)throw new Error("BYDAY part not found in RRULE string.");var n=t+6,r=e.indexOf(";",n);if(-1===r)throw new Error("Semicolon not found after BYDAY in RRULE string.");var a=e.substring(n,r).split(",");return console.log("[CalendarEventDialog.vue/getBYDAYFromRRULE]: Successfully extracted BYDAY from RRULE string."),a}catch(i){return console.error("[CalendarEventDialog.vue/getBYDAYFromRRULE]: Error extracting BYDAY from RRULE string: ".concat(i.message)),[]}},updateRRULEWeekdays:function(e){if(this.localSelectedEvent.rruleString)if(0!==e.length)try{var t=this.localSelectedEvent.rruleString.indexOf("BYDAY");if(-1===t)throw new Error("BYDAY part not found in RRULE string.");var n=this.localSelectedEvent.rruleString.indexOf(";",t),r=this.localSelectedEvent.rruleString.substring(t,-1!==n?n:void 0),a="BYDAY=".concat(e.join(","));this.localBYDAY=e,this.localSelectedEvent.rruleString=this.replaceSubstringAtIndex(this.localSelectedEvent.rruleString,r,a,0),console.log("[CalendarEventDialog.vue/updateRRULEWeekdays]: Successfully updated BYDAY in RRULE string.")}catch(i){console.error("[CalendarEventDialog.vue/updateRRULEWeekdays]: Error updating BYDAY in RRULE string: ".concat(i.message))}else console.log("[CalendarEventDialog.vue/updateRRULEWeekdays]: Empty BYDAY array provided. No update performed.");else console.log("[CalendarEventDialog.vue/updateRRULEWeekdays]: No RRULE string available in the selected event.")},getUNTILFromDateRRULE:function(e){if(!e)return console.log("[CalendarEventDialog.vue/getUNTILFromDateRRULE]: No RRULE string provided."),"";try{var t=e.indexOf("UNTIL");if(-1===t)throw new Error("UNTIL part not found in RRULE string.");var n=e.slice(-16);return console.log("[CalendarEventDialog.vue/getUNTILFromDateRRULE]: Successfully extracted UNTIL date from RRULE string."),n}catch(r){return console.error("[CalendarEventDialog.vue/getUNTILFromDateRRULE]: Error extracting UNTIL date from RRULE string: ".concat(r.message)),""}},convertUNTILStringToDate:function(e){if(!e)return console.log("[CalendarEventDialog.vue/convertUNTILStringToDate]: No UNTIL string provided."),"";try{var t=e.slice(0,4),n=e.substr(4,2),r=e.substr(6,2),a=new Date(t,n-1,r);if(isNaN(a.getTime()))throw new Error("Invalid date format.");return console.log("[CalendarEventDialog.vue/convertUNTILStringToDate]: Successfully converted UNTIL string to Date."),a}catch(i){return console.error("[CalendarEventDialog.vue/convertUNTILStringToDate]: Error converting UNTIL string to Date: ".concat(i.message)),""}},convertUNTILStringToFormattedDate:function(e,t,n){if(!e)return console.log("[CalendarEventDialog.vue/convertUNTILStringToFormattedDate]: No UNTIL string provided."),"";try{var r,a=e.slice(0,4),i=e.substr(4,2),o=e.substr(6,2);return r="mmddyyyy"===n?"".concat(i).concat(t).concat(o).concat(t).concat(a):"".concat(a).concat(t).concat(i).concat(t).concat(o),console.log("[CalendarEventDialog.vue/convertUNTILStringToFormattedDate]: Successfully converted UNTIL string to ".concat(n," format.")),r}catch(c){return console.error("[CalendarEventDialog.vue/convertUNTILStringToFormattedDate]: Error converting UNTIL string to formatted date: ".concat(c.message)),""}},updateRRULEUntilDateTime:function(e,t){if(t)try{var n=t.split("-"),r=Object(T["a"])(n,3),a=r[0],i=r[1],o=r[2];i-=1;var c="T"+e.slice(-5).replace(":","")+"00Z",s=Object(_["a"])(new Date(a,i,o),"yyyyMMdd")+c;this.localUNTIL=s,this.localSelectedEvent.rruleString=this.replaceSubstringAtIndex(this.localSelectedEvent.rruleString,this.localSelectedEvent.rruleString.slice(-16),s,0),console.log("[CalendarEventDialog.vue/updateRRULEUntilDateTime]: Successfully updated UNTIL in RRULE string.")}catch(l){console.error("[CalendarEventDialog.vue/updateRRULEUntilDateTime]: Error updating UNTIL in RRULE string: ".concat(l.message))}else console.log("[CalendarEventDialog.vue/updateRRULEUntilDateTime]: No untilDate provided.")},replaceSubstringAtIndex:function(e,t,n,r){var a=e.split(t,r+1).join(t);return a.length<e.length?a+n+e.slice(a.length+t.length):e},generateActionTypeObject:function(e,t){try{if("string"!==typeof e)throw new Error("Action description must be a string.");var n={description:e,originalData:t};return console.log("[CalendarEventDialog.vue/generateActionTypeObject]: Action type object created successfully."),n}catch(r){return console.error("[CalendarEventDialog.vue/generateActionTypeObject]: Error creating action type object: ".concat(r.message)),null}},generateReadableRRULEDescription:function(e){if(!e)return console.log("[CalendarEventDialog.vue/generateReadableRRULEDescription]: No RRULE string provided."),"";if(this.rruleDescriptionCache[e])return console.log("[CalendarEventDialog.vue/generateReadableRRULEDescription]: Returning cached description."),this.rruleDescriptionCache[e];try{var t=N["a"].fromString(e).toText();return this.rruleDescriptionCache[e]=t,console.log("[CalendarEventDialog.vue/generateReadableRRULEDescription]: RRULE description generated successfully."),t}catch(n){return console.error("[CalendarEventDialog.vue/generateReadableRRULEDescription]: Error parsing RRULE string: ".concat(n)),"Invalid RRULE string"}},formatDTSTARTDateWithSuffix:function(e){if(!e)return console.log("[CalendarEventDialog.vue/formatDTSTARTDateWithSuffix]: No RRULE string provided."),"";try{var t=N["a"].fromString(e).origOptions.dtstart,n=t.getDate(),r=function(e){var t=e%10,n=e%100;return 1==t&&11!=n?"st":2==t&&12!=n?"nd":3==t&&13!=n?"rd":"th"}(n),a=Object(_["a"])(t,"MMMM , yyyy"),i=a.replace(", ","".concat(n).concat(r,", "));return console.log("[CalendarEventDialog.vue/formatDTSTARTDateWithSuffix]: DTSTART date formatted successfully."),i}catch(o){return console.error("[CalendarEventDialog.vue/formatDTSTARTDateWithSuffix]: Error formatting DTSTART date: ".concat(o)),""}}})},at=rt,it=(n("4c46"),n("0798")),ot=n("b0af"),ct=n("99d9"),st=n("ac7c"),lt=n("8fea"),ut=n("0789"),dt=n("cd55"),vt=n("49e2"),pt=n("c865"),ft=n("0393"),mt=n("4bd4"),ht=n("b974"),gt=Object(d["a"])(at,He,Me,!1,null,"73eb422b",null),bt=gt.exports;p()(gt,{VAlert:it["a"],VBtn:h["a"],VCard:ot["a"],VCardActions:ct["a"],VCardText:ct["b"],VCheckbox:st["a"],VCol:ie["a"],VDataTable:lt["a"],VDialog:We["a"],VExpandTransition:ut["a"],VExpansionPanel:dt["a"],VExpansionPanelContent:vt["a"],VExpansionPanelHeader:pt["a"],VExpansionPanels:ft["a"],VForm:mt["a"],VIcon:b["a"],VList:Se["a"],VListItem:ye["a"],VListItemTitle:we["b"],VMenu:De["a"],VRow:ce["a"],VSelect:ht["a"],VSpacer:y["a"],VTextField:ze["a"],VToolbar:Re["a"],VToolbarTitle:ke["a"]});var Et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",{ref:"form",model:{value:e.formValid,callback:function(t){e.formValid=t},expression:"formValid"}},[n("v-dialog",{attrs:{persistent:"","max-width":"600px"},on:{"click:outside":e.close},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[e._v(" Role Selection ")]),n("v-card-text",[n("v-select",{attrs:{items:e.roles,label:"Choose a role",outlined:""},model:{value:e.selectedRole,callback:function(t){e.selectedRole=t},expression:"selectedRole"}}),"Volunteer"!==e.selectedRole||e.isVolunteerLimitReached?"Volunteer"===e.selectedRole?n("v-alert",{attrs:{border:"top","colored-border":"",color:"error",elevation:"2"}},[e._v(" We have reached the maximum number of volunteers for this shift. Thank you for your interest! ")]):e._e():n("div",[n("h3",[e._v("General Volunteer Signup")]),n("p",[e._v("As a general volunteer, you'll have the opportunity to contribute through various tasks and activities that support our cause.")]),n("v-text-field",{attrs:{rules:e.rules.name,label:"Volunteer Name",hint:"Example: Bob Smith","persistent-hint":"",required:""},model:{value:e.volunteerName,callback:function(t){e.volunteerName=t},expression:"volunteerName"}}),n("v-text-field",{attrs:{rules:e.rules.email,label:"Volunteer Email",hint:"Example: bobsmith@yahoo.com","persistent-hint":"",required:""},model:{value:e.volunteerEmail,callback:function(t){e.volunteerEmail=t},expression:"volunteerEmail"}}),n("v-text-field",{attrs:{rules:e.rules.phone,label:"Volunteer Phone (Optional)",hint:"Example: 123-456-7890","persistent-hint":""},model:{value:e.volunteerPhone,callback:function(t){e.volunteerPhone=t},expression:"volunteerPhone"}})],1),"Driver / Driver Helper"!==e.selectedRole||e.isDriverHelperLimitReached?"Driver / Driver Helper"===e.selectedRole?n("v-alert",{attrs:{border:"top","colored-border":"",color:"error",elevation:"2"}},[e._v(" We have reached the maximum number of drivers/helpers for this shift. Thank you for your interest! ")]):e._e():n("div",[n("h3",[e._v("Driver / Helper Volunteer")]),n("p",[e._v("As a driver or helper, you play a crucial role in logistics and transportation, ensuring resources and people reach where they are needed most.")]),n("v-text-field",{attrs:{rules:e.rules.name,label:"Driver or Driver Helper Name",hint:"Example: Bob Smith","persistent-hint":"",required:""},model:{value:e.driverHelperName,callback:function(t){e.driverHelperName=t},expression:"driverHelperName"}}),n("v-text-field",{attrs:{rules:e.rules.email,label:"Driver or Driver Helper Email",hint:"Example: bobsmith@yahoo.com","persistent-hint":"",required:""},model:{value:e.driverHelperEmail,callback:function(t){e.driverHelperEmail=t},expression:"driverHelperEmail"}}),n("v-text-field",{attrs:{rules:e.rules.phone,label:"Driver / Helper Phone (Optional)",hint:"Example: 123-456-7890","persistent-hint":""},model:{value:e.driverHelperPhone,callback:function(t){e.driverHelperPhone=t},expression:"driverHelperPhone"}}),n("v-alert",{staticClass:"mt-6",attrs:{border:"top",color:"info","colored-border":"",elevation:"2"}},[e._v(" We kindly request that individuals registering as drivers or driver helpers submit a copy of their valid driver's license and proof of insurance via email. This documentation is essential for ensuring compliance and safety standards. Thank you for your cooperation and commitment. ")])],1)],1),n("v-card-actions",[n("v-btn",{attrs:{color:"grey darken-1",text:""},on:{click:e.close}},[e._v("Close")]),n("v-spacer"),n("v-btn",{attrs:{disabled:!e.canParticipate||!e.formValid,color:"primary"},on:{click:e.updateShiftAndSendEmail}},[e._v(" Participate ")])],1)],1)],1)],1)},St=[],yt=r["a"].extend({data:function(){return{submitted:!1,loading:!1,error:null}},methods:{sendEmail:function(e,t){var n=this;this.loading=!0,this.submitted=!1,this.error=null,fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){if(422===e.status)throw new Error("Are you robot?");if(200!==e.status)throw new Error("".concat(e.statusText," (").concat(e.status,")"));return e.json()})).then((function(){n.submitted=!0,n.loading=!1})).catch((function(e){n.error=e.toString(),n.loading=!1}))}}}),wt={name:"CalendarVolunteerDialog",props:{value:Boolean,selectedShift:{type:Object,default:function(){return{}}}},data:function(){return{formValid:!1,dialog:this.value,selectedRole:"Volunteer",volunteerName:"",volunteerEmail:"",volunteerPhone:"",driverHelperName:"",driverHelperEmail:"",driverHelperPhone:"",roles:["Volunteer","Driver / Driver Helper"],rules:{name:[function(e){return!!e||"Name is required."},function(e){return/^[a-zA-Z\s]*$/.test(e)||"Name must contain only letters and spaces."}],email:[function(e){return!!e||"E-mail is required."},function(e){return/^[a-zA-Z0-9]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)||"E-mail must be valid."}],phone:[function(e){return!e||/^\d{3}-\d{3}-\d{4}$/.test(e)||"Phone must be in the format 123-456-7890"}]}}},computed:{isVolunteerLimitReached:function(){var e;return(null===(e=this.selectedShift.volunteerNames)||void 0===e?void 0:e.length)>=this.selectedShift.volunteerLimit},isDriverHelperLimitReached:function(){var e;return(null===(e=this.selectedShift.driverHelperNames)||void 0===e?void 0:e.length)>=this.selectedShift.driverHelperLimit},canParticipate:function(){return"Volunteer"===this.selectedRole?!this.isVolunteerLimitReached:"Driver / Driver Helper"!==this.selectedRole||!this.isDriverHelperLimitReached}},watch:{value:function(e){this.dialog=e},dialog:function(e){e||this.$emit("input",e)},selectedRole:function(e,t){e!==t&&(this.volunteerName="",this.volunteerEmail="",this.volunteerPhone="",this.driverHelperName="",this.driverHelperEmail="",this.driverHelperPhone="")}},methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["updateSnackMessage"])),{},{sendForm:function(){if(this.formValid){var e="https://public.herotofu.com/v1/25116e10-eb7e-11ee-a139-63688650e2a2",t=this.prepareFormData();this.sendEmail(e,t)}},sendEmail:function(e,t){var n=this;this.loading=!0,this.submitted=!1,this.error=null,fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){if(422===e.status)throw new Error("Are you robot?");if(200!==e.status)throw new Error("".concat(e.statusText," (").concat(e.status,")"));return e.json()})).then((function(){n.submitted=!0,n.loading=!1,n.dialog=!1})).catch((function(e){n.error=e.toString(),n.loading=!1}))},prepareFormData:function(){var e={"Selected Role":"Volunteer"===this.selectedRole?"Volunteer":"Driver / Driver Helper"};if("Volunteer"===this.selectedRole?e=Object(o["a"])(Object(o["a"])({},e),{},{"Volunteer Name:":this.volunteerName,"Volunteer Email:":this.volunteerEmail,"Volunteer Phone:":this.volunteerPhone}):"Driver / Driver Helper"===this.selectedRole&&(e=Object(o["a"])(Object(o["a"])({},e),{},{"Driver / Helper Name":this.driverHelperName,"Driver / Email":this.driverHelperEmail,"Driver / Phone":this.driverHelperPhone})),this.selectedShift&&this.selectedShift.start){var t=this.formatDateWithOrdinal(new Date(this.selectedShift.start));e["Shift Selected"]=t}return"Driver / Driver Helper"===this.selectedRole&&(e["Notes"]="Please contact the driver or driver helper at your earliest convenience to request a copy of their current driver's license and proof of insurance using the email or phone number provided."),e},formatDateWithOrdinal:function(e){var t,n,r={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0},a=new Intl.DateTimeFormat("en-US",r),i=a.formatToParts(e);i.forEach((function(e){"day"===e.type&&(t=parseInt(e.value,10))})),t&&(n=t%10===1&&11!==t?"st":t%10===2&&12!==t?"nd":t%10===3&&13!==t?"rd":"th");var o=i.map((function(e){return"day"===e.type?"".concat(e.value).concat(n):e.value})).join("");return o},updateEvent:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,o,c,s,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a=e.selectedShift,i=a.isRecurring?Object(P["f"])(En,"events",a.id):Object(P["f"])(En,"exceptions",a.id),o="Volunteer"===e.selectedRole?"".concat(e.volunteerName," (").concat(e.volunteerEmail,")"):"".concat(e.driverHelperName," (").concat(e.driverHelperEmail,")"),c=null===(n=a.volunteerNames)||void 0===n?void 0:n.some((function(e){return e.name.toLowerCase()===o.toLowerCase()})),s=null===(r=a.driverHelperNames)||void 0===r?void 0:r.some((function(e){return e.name.toLowerCase()===o.toLowerCase()})),!c&&!s){t.next=12;break}return e.updateSnackMessage("You have already registered to participate in one of the roles."),console.log("User already registered for this shift in one of the roles."),e.$emit("dialogs-completed"),e.close(),t.abrupt("return",!1);case 12:return l={},"Volunteer"===e.selectedRole?l={volunteerNames:Object(P["c"])({name:"".concat(e.volunteerName," (").concat(e.volunteerEmail,")"),email:e.volunteerEmail,phone:e.volunteerPhone})}:"Driver / Driver Helper"===e.selectedRole&&(l={driverHelperNames:Object(P["c"])({name:"".concat(e.driverHelperName," (").concat(e.driverHelperEmail,")"),email:e.driverHelperEmail,phone:e.driverHelperPhone})}),t.next=16,Object(P["i"])(i,l);case 16:return e.$emit("dialogs-completed"),e.close(),t.abrupt("return",!0);case 21:return t.prev=21,t.t0=t["catch"](0),console.error("Failed to update event: ",t.t0),t.abrupt("return",!1);case 25:case"end":return t.stop()}}),t,null,[[0,21]])})))()},updateShiftAndSendEmail:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.updateEvent(),n&&e.sendForm();case 2:case"end":return t.stop()}}),t)})))()},close:function(){this.volunteerName="",this.volunteerEmail="",this.volunteerPhone="",this.driverHelperName="",this.driverHelperEmail="",this.driverHelperPhone="",this.dialog=!1,this.selectedRole="Volunteer"}})},Dt=wt,xt=Object(d["a"])(Dt,Et,St,!1,null,null,null),Rt=xt.exports;p()(xt,{VAlert:it["a"],VBtn:h["a"],VCard:ot["a"],VCardActions:ct["a"],VCardText:ct["b"],VCardTitle:ct["c"],VDialog:We["a"],VForm:mt["a"],VSelect:ht["a"],VSpacer:y["a"],VTextField:ze["a"]});var kt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"","max-width":"600px"},on:{"click:outside":function(t){e.dialog=!1}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[e._v(" Organization Details ")]),n("v-card-text",[n("v-form",{ref:"form",model:{value:e.formValid,callback:function(t){e.formValid=t},expression:"formValid"}},[n("v-text-field",{attrs:{label:"Organization Name",rules:e.rules.required},model:{value:e.organizationName,callback:function(t){e.organizationName=t},expression:"organizationName"}}),n("v-text-field",{attrs:{label:"Contact Name",rules:e.rules.required},model:{value:e.contactName,callback:function(t){e.contactName=t},expression:"contactName"}}),n("v-text-field",{attrs:{label:"Phone Number",rules:e.rules.phone},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}}),n("v-text-field",{attrs:{label:"Email",rules:e.rules.email},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("v-text-field",{attrs:{label:"Number of People (Max: 8)",type:"number",max:8,rules:e.rules.numberPeople},model:{value:e.numberOfPeople,callback:function(t){e.numberOfPeople=t},expression:"numberOfPeople"}}),n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.dates,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){e.dates=t},"update:return-value":function(t){e.dates=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-combobox",e._g(e._b({attrs:{multiple:"",chips:"","small-chips":"",label:"Choose dates to volunteer","prepend-icon":"mdi-calendar",readonly:"",rules:e.rules.dateRequired},scopedSlots:e._u([{key:"selection",fn:function(t){var r=t.item,a=t.index;return[n("v-chip",{key:a,attrs:{close:""},on:{"click:close":function(t){return e.removeDate(a)}}},[e._v(" "+e._s(e.formatDate(r))+" ")])]}}],null,!0),model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}},"v-combobox",a,!1),r))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[n("v-date-picker",{attrs:{multiple:"","no-title":"",scrollable:"",min:e.minDate},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v("Cancel")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.dates)}}},[e._v("OK")])],1)],1)],1)],1),n("v-card-actions",[n("v-btn",{attrs:{color:"grey darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Close")]),n("v-spacer"),n("v-btn",{attrs:{color:"primary",disabled:!e.formValid},on:{click:e.sendForm}},[e._v("Send")])],1)],1)],1)},Ot=[],Tt=(n("4fad"),{mixins:[yt],props:["value"],data:function(){return{dialog:!1,organizationName:"",contactName:"",phoneNumber:"",email:"",dates:[],menu:!1,numberOfPeople:"",formValid:!1,minDate:(new Date).toISOString().substr(0,10),rules:{required:[function(e){return!!e||"Field is required"}],email:[function(e){return!!e||"E-mail is required"},function(e){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(e)||"E-mail must be valid"}],phone:[function(e){return!!e||"Phone number is required"},function(e){return/^\d{3}-\d{3}-\d{4}$/.test(e)||"Phone must be in the format 123-456-7890"}],numberPeople:[function(e){return!!e||"Number of people is required"},function(e){return e>0&&e<=8||"Number of people must be between 1 and 8"}],dateRequired:[function(e){return e&&e.length>0||"At least one date must be selected"},function(e){return e&&e.length<=5||"You can select up to 5 dates only"}]}}},watch:{value:function(e){this.dialog=e},dialog:function(e){this.$emit("input",e)}},methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["updateSnackMessage"])),{},{sendForm:function(){var e=this;if(this.formValid){var t="https://public.herotofu.com/v1/9b846ad0-eb7d-11ee-a139-63688650e2a2",n=this.dates.sort((function(e,t){return new Date(e)-new Date(t)})),r=n.reduce((function(t,n){var r=new Date(n),a=r.toLocaleDateString("en-US",{month:"long",year:"numeric"});return t[a]||(t[a]=[]),t[a].push(e.formatDate(n)),t}),{}),a=Object.entries(r).map((function(e){var t=Object(T["a"])(e,2),n=t[0],r=t[1],a=r.map((function(e){var t=e.replace(/^[^ ]+ /,"").replace(/, \d{4}$/,"");return t})).join(", ");return"".concat(n,": ").concat(a)})).join(" | "),i={"Organization Name":this.organizationName,"Contact Name":this.contactName,"Phone Number":this.phoneNumber,Email:this.email,"Number of Participants":this.numberOfPeople,"Volunteering Dates":a};this.sendEmail(t,i).then((function(){console.log("Form submitted successfully.")})).catch((function(e){console.error("Error submitting form:",e.message)}))}else console.error("Form is not valid.")},sendEmail:function(e,t){var n=this;return Object(k["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,n.loading=!0,r.next=4,fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 4:if(a=r.sent,422!==a.status){r.next=7;break}throw new Error("Validation failed: Are you a robot?");case 7:if(200===a.status){r.next=9;break}throw new Error("Error: ".concat(a.statusText," (").concat(a.status,")"));case 9:return r.next=11,a.json();case 11:n.submitted=!0,n.updateSnackMessage("Email sent successfully."),r.next=19;break;case 15:r.prev=15,r.t0=r["catch"](0),n.error=r.t0.toString(),n.updateSnackMessage("Error sending email: ".concat(r.t0.message));case 19:return r.prev=19,n.loading=!1,n.dialog=!1,r.finish(19);case 23:case"end":return r.stop()}}),r,null,[[0,15,19,23]])})))()},formatDate:function(e){var t=new Date(e),n=t.getDate(),r=t.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}).split(" "),a=Object(T["a"])(r,3),i=a[0],o=a[2],c=function(e){if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}(n);return"".concat(i," ").concat(n).concat(c,", ").concat(o)},removeDate:function(e){e>=0&&e<this.dates.length?this.dates.splice(e,1):console.warn("Attempted to remove a date with an invalid index:",e)}})}),Ct=Tt,Nt=n("2b5d"),_t=Object(d["a"])(Ct,kt,Ot,!1,null,null,null),jt=_t.exports;p()(_t,{VBtn:h["a"],VCard:ot["a"],VCardActions:ct["a"],VCardText:ct["b"],VCardTitle:ct["c"],VChip:Ee["a"],VCombobox:Nt["a"],VDatePicker:et["a"],VDialog:We["a"],VForm:mt["a"],VMenu:De["a"],VSpacer:y["a"],VTextField:ze["a"]});var It={name:"Calendar",components:{CalendarDay:ue,CalendarToolBar:Te,CalendarSideBar:Pe,CalendarEventDialog:bt,CalendarVolunteerDialog:Rt,OrganizationDialog:jt},data:function(){return{menu:!1,focus:"",type:"month",selectedShift:{},originalData:{},selectedWeekdayNum:0,dateForNewShift:{},shifts:[],isBusy:!1,showVolunteerDialog:!1,showOrganizationDialog:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])("storeCalendar",["eventOpen","getCurrentEvent","getInstances","getExceptions","getSelectedParticipant"])),{},{isLoggedIn:function(){return!!this.$store.state.user}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["b"])(["updateSnackMessage"])),Object(c["b"])("storeCalendar",["initInstances","adminShiftDialogOpen"])),{},{viewToday:function(){this.focus=""},isDateBeforeToday:function(e){var t=new Date;t.setHours(0,0,0,0);var n=new Date(e);return n<t},fetchUpdatedShifts:function(){this.loadAndUpdateShifts()},handleClickEvent:function(e){var t=e.day.date;this.isDateBeforeToday(t)?this.isLoggedIn||this.updateSnackMessage("Participation is not permitted for past dates or the current day."):this.isLoggedIn?this.handleShiftSelection(e):this.openVolunteerDialog(e)},prepareAndOpenShiftCreationDialog:function(e){var t=this;if(this.isDateBeforeToday(e.date))return this.updateSnackMessage("Shift creation is not permitted for past dates or the current day."),void console.warn("[Calendar.vue/prepareAndOpenShiftCreationDialog]: Attempted to create or edit a shift for a past date.");try{if("undefined"===typeof e.weekday)throw new Error("[Calendar.vue/prepareAndOpenShiftCreationDialog]: Invalid day object: missing weekday");this.selectedWeekdayNum=e.weekday,this.selectedShift={},this.originalData={},this.dateForNewShift=e,this.$store.dispatch("storeCalendar/adminShiftDialogOpen",!0).then((function(){})).catch((function(e){console.error("[Calendar.vue/prepareAndOpenShiftCreationDialog]: Failed to open dialog: ",e),t.selectedWeekdayNum=0,t.selectedShift={},t.originalData={},t.dateForNewShift={},t.updateSnackMessage("Error: ".concat(e.message))}))}catch(n){console.error("[Calendar.vue/prepareAndOpenShiftCreationDialog]: Failed to create event: ",n),this.selectedWeekdayNum=0,this.selectedShift={},this.originalData={},this.dateForNewShift={},this.updateSnackMessage("Error: ".concat(n.message))}},handleShiftSelection:function(e){var t=e.nativeEvent,n=e.event,r=e.eventParsed;this.selectedWeekdayNum=r.start.weekday,this.selectedShift=this.getCurrentEvent(n),this.originalData=Object(o["a"])({},this.selectedShift),this.dateForNewShift={},t.stopPropagation(),this.adminShiftDialogOpen(!0)},loadAndUpdateShifts:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isBusy=!0,t.prev=1,t.next=4,e.initInstances({focus:e.focus,name:e.getSelectedParticipant.name,type:e.getSelectedParticipant.type});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),e.updateSnackMessage("Error loading ".concat(t.t0," "));case 9:return t.prev=9,e.isBusy=!1,e.shifts=e.getInstances(e.focus,e.getSelectedParticipant.name,e.getSelectedParticipant.type),e.dateForNewShift={},e.selectedShift={},t.finish(9);case 15:case"end":return t.stop()}}),t,null,[[1,6,9,15]])})))()},updateCalendarViewType:function(e){this.type=e},openVolunteerDialog:function(e){this.selectedShift=e.event,this.showVolunteerDialog=!0}})},Lt=It,At=(n("f084"),n("a4f6")),Vt=n("a797"),Ut=n("490a"),Pt=Object(d["a"])(Lt,J,K,!1,null,"dcdfd2d6",null),Ht=Pt.exports;p()(Pt,{VAlert:it["a"],VBtn:h["a"],VCalendar:At["a"],VCol:ie["a"],VContainer:g["a"],VOverlay:Vt["a"],VProgressCircular:Ut["a"],VRow:ce["a"]});var Mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-snackbar",{attrs:{timeout:e.timeout},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.show=!1}}},"v-btn",r,!1),[e._v(" Close ")])]}}]),model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("span",{staticClass:"text-center"},[e._v(e._s(e.message))])])],1)},Ft=[],Bt={name:"Snackbar",data:function(){return{show:!1,message:"",timeout:1e4}},created:function(){var e=this;this.$store.watch((function(e){return e.snackMessage}),(function(){e.$store.state.snackMessage&&(e.show=!0,e.message=e.$store.state.snackMessage,e.$store.state.snackMessage="")}))}},$t=Bt,Yt=n("2db4"),Wt=Object(d["a"])($t,Mt,Ft,!1,null,null,null),zt=Wt.exports;p()(Wt,{VBtn:h["a"],VSnackbar:Yt["a"]});var qt={name:"Home",components:{Calendar:Ht,Snackbar:zt}},Gt=qt,Xt=(n("cccb"),Object(d["a"])(Gt,X,Z,!1,null,null,null)),Zt=Xt.exports,Jt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"12",sm:"8",md:"6"}},[n("v-card",{staticClass:"pa-5",attrs:{elevation:"2"}},[n("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.register.apply(null,arguments)}}},[n("v-text-field",{attrs:{label:"Email",rules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],type:"email",placeholder:"Enter your email","error-messages":e.errorMsg.email},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("v-text-field",{attrs:{label:"Password",rules:[function(e){return!!e||"Password is required"},function(e){return e.length>=6||"Minimum 6 characters"}],type:"password",placeholder:"Enter your password",counter:"","error-messages":e.errorMsg.password},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("v-btn",{attrs:{loading:e.loading,type:"submit",color:"primary",block:"",large:""}},[e._v("Submit")])],1)],1)],1)],1)],1)},Kt=[],Qt=function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Object(s["b"])(),e.next=3,Object(s["a"])(r,t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),en=function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Object(s["b"])(),e.next=3,Object(s["d"])(r,t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),tn={register:Qt,login:en},nn={data:function(){return{email:"",password:"",errorMsg:{},loading:!1}},methods:{register:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,e.errorMsg={},t.prev=2,t.next=5,tn.register(e.email,e.password);case 5:e.$router.push("/"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),e.handleError(t.t0);case 11:return t.prev=11,e.loading=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[2,8,11,14]])})))()},handleError:function(e){var t=e.message||"An error occurred during registration";if(e.code)switch(e.code){case"auth/email-already-in-use":this.errorMsg.email="This email is already in use";break;case"auth/invalid-email":this.errorMsg.email="Invalid Email";break;case"auth/weak-password":this.errorMsg.password="Password should be at least 6 characters";break;default:this.$emit("error",t);break}else this.$emit("error",t)}}},rn=nn,an=Object(d["a"])(rn,Jt,Kt,!1,null,null,null),on=an.exports;p()(an,{VBtn:h["a"],VCard:ot["a"],VCol:ie["a"],VContainer:g["a"],VForm:mt["a"],VRow:ce["a"],VTextField:ze["a"]});var cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"12",sm:"8",md:"6"}},[n("v-card",{staticClass:"pa-5",attrs:{elevation:"2"}},[n("v-form",{on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[n("v-text-field",{attrs:{label:"Email",rules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],type:"email",placeholder:"Enter your email","error-messages":e.errorMsg.email},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("v-text-field",{attrs:{label:"Password",rules:[function(e){return!!e||"Password is required"}],type:"password",placeholder:"Enter your password","error-messages":e.errorMsg.password},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("v-btn",{attrs:{loading:e.loading,type:"submit",color:"primary",block:"",large:""}},[e._v("Login")])],1)],1)],1)],1)],1)},sn=[],ln={data:function(){return{email:"",password:"",errorMsg:{email:"",password:""},loading:!1}},methods:{login:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,e.errorMsg={email:"",password:""},t.prev=2,t.next=5,tn.login(e.email,e.password);case 5:e.$router.push("/"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),e.handleError(t.t0);case 11:return t.prev=11,e.loading=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[2,8,11,14]])})))()},handleError:function(e){switch(e.code){case"auth/invalid-email":this.errorMsg.email="Invalid Email";break;case"auth/user-not-found":case"auth/wrong-password":this.errorMsg.password="Incorrect email or password";break;default:this.errorMsg.email="An error occurred. Please try again";break}}}},un=ln,dn=Object(d["a"])(un,cn,sn,!1,null,null,null),vn=dn.exports;p()(dn,{VBtn:h["a"],VCard:ot["a"],VCol:ie["a"],VContainer:g["a"],VForm:mt["a"],VRow:ce["a"],VTextField:ze["a"]}),r["a"].use(G["a"]);var pn=new G["a"]({mode:"history",base:"/",routes:[{path:"/",component:Zt},{path:"/register",component:on,beforeEnter:function(e,t,n){var r=prompt("Please enter the password to access this page:");"testtestTest"===r?n():(alert("Incorrect password"),t.fullPath?window.location.href=t.fullPath:window.location.href="/")}},{path:"/login",component:vn}]}),fn=function(){return new Promise((function(e,t){var n=Object(s["b"])(),r=Object(s["c"])(n,(function(n){r(),n?e(n):t("No user logged in")}),(function(e){r(),t(e)}))}))};pn.beforeEach(function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fn().then((function(){return!0})).catch((function(){return!1}));case 2:a=e.sent,t.matched.some((function(e){return e.meta.requiresAuth}))?a?r():r("/login"):"/login"!==t.path&&"/register"!==t.path||!a?r():r("/");case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}());var mn=pn,hn=n("bc7b"),gn=(n("5363"),{apiKey:"AIzaSyA2kcGZUxb1excFSOplW1iQaUTPXVepFoI",authDomain:"volunteer-portal-hstl-3ef78.firebaseapp.com",projectId:"volunteer-portal-hstl-3ef78",storageBucket:"volunteer-portal-hstl-3ef78.appspot.com",messagingSenderId:"46168409713",appId:"1:46168409713:web:54fa4a0ff632f7b7f1bdd0"});Object(hn["a"])(gn);var bn,En=Object(P["h"])();r["a"].prototype.$Timestamp=P["a"],r["a"].config.productionTip=!1,Object(s["b"])().onAuthStateChanged((function(e){q.dispatch("setUser",e),bn||(bn=new r["a"]({vuetify:R,store:q,router:mn,render:function(t){return t(D,{props:{isLoggedIn:!!e}})}}).$mount("#app"))}))},"5c0b":function(e,t,n){"use strict";var r=n("9c0c"),a=n.n(r);a.a},"5ced":function(e,t,n){},9065:function(e,t,n){},"9c0c":function(e,t,n){},cccb:function(e,t,n){"use strict";var r=n("5ced"),a=n.n(r);a.a},f084:function(e,t,n){"use strict";var r=n("10f6"),a=n.n(r);a.a}});
//# sourceMappingURL=app.537308f4.js.map